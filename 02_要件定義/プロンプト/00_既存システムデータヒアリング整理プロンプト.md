# 既存システム・データヒアリング整理プロンプト

## プロンプト使用方法

このプロンプトを使用して、ヒアリング・ヒアリングで得た既存システムとデータに関するヒアリング結果を構造化して整理します。

- **ヒアリング**: 現状システム確認・技術要件ヒアリング
- **ヒアリング**: 非機能要件合意・技術仕様草案レビュー

### インプットファイル

- 議事録（ヒアリング・ヒアリング）
- 顧客から提供された資料
  - 既存システム構成図（あれば）
  - 現行データフロー図（あれば）
  - マスタデータサンプル（Excel等）
  - 既存システムのIF仕様書（あれば）

### アウトプット

- 既存システム構成整理書（`00_既存システム構成整理書.md`）
- 既存データ整理書（`00_既存データ整理書.md`）
- 外部IF一覧草案（`00_外部IF一覧草案.md`）

> **中間成果物の位置付け**  
> これらの整理書は要件定義書に統合される前提の中間成果物です。各項目には根拠となる議事録（MTG番号・発言者）や補足資料を明記し、後続の機能一覧・ユースケース・非機能要件と整合させてください。

---

## プロンプト

```
以下のインプット情報を元に、既存システムとデータの構成を整理してください。

# インプット情報

## 1. 議事録（ヒアリング・ヒアリング）
{議事録の内容を貼り付け}

## 2. 顧客提供資料
{提供された資料の内容を貼り付け、または資料の要約を記載}

---

# 作成指示

以下の3つのアウトプットを作成してください。すべて小規模案件向けのライト版です。

---

## アウトプット1: 既存システム構成ミニ整理

テンプレートに沿って、以下の項目を簡潔にまとめてください。
1. **サマリー**: 主要システム数／外部連携数／トップリスクを1行ずつ。
2. **主要システム一覧**: 各システムの役割、所管部署、保守ベンダー、連携有無、To-Be方針を中心に記載。詳細が未確認の場合は「未確認（確認先：◯◯）」。
3. **主要連携フロー**: 重要度の高いものから最大5件。頻度や方式が未確定なら「仮：」「検討中」と明記。
4. **データ概要・リスク・未確認事項**: テンプレートの表に把握できた範囲のみ記載し、残りは未確認欄へ集約。

---

## アウトプット2: 既存データ整理メモ

`00_既存データ整理テンプレート.md` のうち、次の表をライトに埋めてください。
- マスタデータ一覧（重要度の高いものから最大5件）
- トランザクションデータ一覧（最大5件）
- ファイル・帳票データ一覧（必須なもののみ）

補足:
- 数量・頻度は「概算」「未確認」など曖昧なままでも構いません。
- クレンジングや移行の要否が分かった場合のみ備考に記載します。
- 詳細な移行方式・リハーサル回数などは不要です（未定の場合は空欄で可）。

---

## アウトプット3: 外部IFメモ

`00_外部IF一覧草案.md` を利用し、下記の観点だけ整理してください。
- 連携要件一覧の表に、優先度の高いIF（最大5件）を記入。
- 技術詳細が決まっているものがあれば1〜2件だけ補足。未定の場合は「検討中」と明記。
- 今後確認すべきポイントは備考またはチェックリストにまとめ、担当者・期日が分かれば追記。

---

# 仕上げのチェック
- すべての表に「根拠（ヒアリング／資料名）」または備考欄で参照元を併記する
- 情報が重複する場合は、どちらか片方にまとめ「詳細は◯◯参照」と記載
- 3つの成果物を合わせて3ページ程度に収める意識で、不要な詳細は省略してください

**ファイルフォーマット**
```
商品コード,商品名,在庫数,更新日時
"P0001","商品A",100,"2025-01-15 10:30:00"
"P0002","商品B",50,"2025-01-15 10:35:00"
...
```

| 項目名 | 型 | 必須/任意 | 備考 |
|--------|----|---------|----|
| 商品コード | String(15) | 必須 | ダブルクォートで囲む |
| 商品名 | String(100) | 必須 | |
| 在庫数 | Integer | 必須 | |
| 更新日時 | DateTime | 必須 | YYYY-MM-DD HH:MM:SS |

**処理フロー**
1. ES-001が深夜バッチで在庫CSVを出力（AM 2:00）
2. 新システムのバッチが定期監視（AM 2:30～）
3. ファイル検知後、取り込み処理開始
4. バリデーション → DB登録 → ファイルアーカイブ
5. エラー発生時は管理者にメール通知

**エラー処理**
- ファイル未検知: AM 3:00までに検知できない場合アラート
- フォーマットエラー: エラー行をスキップし、エラーログ記録
- バリデーションエラー: エラーレポート生成 → 管理者通知

**課題・未決事項**
- [ ] ファイル配置場所の確定（共有フォルダ or SFTP）
- [ ] 文字コードの確認（UTF-8 or Shift_JIS）
- [ ] ES-001側のバッチ実行時刻の確定
- [ ] ファイル削除ポリシー（何日後に削除するか）

### 3. 外部連携の技術的課題サマリー

| 課題分類 | 課題内容 | 影響度 | 対応方針 | 期限 | 担当 |
|---------|---------|--------|---------|------|------|
| API提供 | ES-001がAPI未提供 | 高 | CSV連携で代替、将来API化を検討 | ヒアリング | ベンダー確認 |
| 認証方式 | ES-002の認証方式が不明 | 中 | ベンダーに仕様確認依頼 | ヒアリング後1週間 | 顧客 |
| データ形式 | 文字コードの統一が必要 | 低 | UTF-8に統一する方針 | 基本設計時 | ベンダー |
| ネットワーク | SFTP接続のファイアウォール設定 | 中 | 情報システム部と調整 | 開発開始前 | 顧客 |

---

# 作成時の注意事項

1. **ヒアリング情報の構造化**
   - 議事録の内容を表形式で整理
   - 不明点・未確認事項は「課題・未決事項」として明記

2. **ID管理**
   - 既存システムID（ES-XXX）: 既存システム番号
   - マスタID（MD-XXX）: マスタデータ番号
   - トランザクションID（TD-XXX）: トランザクションデータ番号
   - ファイルID（FD-XXX）: ファイル・帳票番号
   - IF-ID（IF-XXX）: 外部連携番号（要件定義書の外部IFと統合予定）

3. **データ移行要件との紐付け**
   - 要件定義書作成時に「データ移行要件」セクションで参照
   - 移行対象データの優先度を明記

4. **技術的実現可能性の確認**
   - 既存システムのAPI提供可否を早期に確認
   - 代替案（CSV連携等）を必ず用意

5. **未決事項の管理**
   - 各セクションで「課題・未決事項」をチェックボックス形式で記載
   - ヒアリングで確認すべき事項を明確化

---

# 作成後のチェックリスト

□ 既存システムがすべて一覧化されている
□ 各既存システムの技術情報が記載されている
□ マスタデータ・トランザクションデータが一覧化されている
□ データ品質課題が明記されている
□ データ移行要否が判断されている
□ 外部連携要件が一覧化されている
□ 各IFの連携方式が明確である
□ 技術的課題と対応方針が整理されている
□ 未決事項がすべて抽出されている
□ ヒアリングで確認すべき事項が明確である

---

# 出力形式

Markdown形式で、以下の3ファイルを出力してください：

1. `00_既存システム構成整理書.md`
2. `00_既存データ整理書.md`
3. `00_外部IF一覧草案.md`

---

# 次のステップ

このプロンプトで作成した3つのアウトプットは、以下のプロンプトで活用されます：

- **01_要件定義書作成プロンプト**: データ移行要件、外部システム連携要件の詳細化
- **04_画面遷移IF作成プロンプト**: 外部IF定義の詳細化
- **05_非機能要件チェックリスト作成プロンプト**: 既存システムとの性能・可用性要件の整合性確認
```

## 使用例

```
# インプット情報

## 1. 議事録（ヒアリング）
[ヒアリングの議事録内容]

## 2. 議事録（ヒアリング）
[ヒアリングの議事録内容]

## 3. 顧客提供資料
[既存システム構成図、マスタデータサンプル等]

---

[上記プロンプトを適用]
```
