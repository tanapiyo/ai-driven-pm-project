# ユースケース作成プロンプト

## プロンプト使用方法

このプロンプトを使用して、ヒアリング議事録と機能一覧を突き合わせながらユースケース定義書（中間成果物）を作成します。議事録から抽出した利用シナリオ・制約事項を反映し、後続の画面遷移図や要件定義書に統合できる形で整理してください。

- **ヒアリング後**: 機能一覧確定後のユースケース詳細化
- **ヒアリング準備**: 画面遷移・非機能要件確認前の準備

### インプットファイル

- ヒアリング議事録（全回の議事録）
- 機能一覧（`02_機能一覧テンプレート.md`の最新版）
- To-Be業務フロー図／業務記述書
- 既存システム構成整理書・既存データ整理書（必要に応じて）
- 外部IF一覧草案（必要に応じて）

### アウトプット

- ユースケース定義書（`03_ユースケーステンプレート.md` に基づく）

> **中間成果物の位置付け**  
> ユースケース定義書は要件定義書統合のための中間成果物です。各ユースケースに対応する議事録の発言・決定事項、参照した機能一覧・外部IF情報を明示しておき、後続成果物への連鎖的な整合性チェックを行えるようにしてください。

---

## プロンプト

```
以下のインプット情報を元に、ユースケース定義書を作成してください。

# インプット情報

## 1. ヒアリング議事録（全回の議事録）
{議事録を時系列で貼り付け。アクターや業務シナリオ、非機能要求に関する発言を強調する}

## 2. 機能一覧
{`02_機能一覧テンプレート.md`の最新版を貼り付け}

## 3. To-Be業務フロー図／業務記述書
{To-Be業務フロー図または業務記述書の最新版を貼り付け}

## 4. 既存システム・データ整理資料（任意）
{`00_既存システム構成整理書.md`、`00_既存データ整理書.md`から該当箇所を抜粋}

## 5. 外部IF一覧草案（任意）
{`00_外部IF一覧草案.md`から関連する連携要件を抜粋}

---

# 作成指示

「03_ユースケーステンプレート.md」のテンプレートに従って、以下の内容を含むユースケース定義書を作成してください。

## 1. ユースケース概要（セクション1）

### アクター一覧の作成
To-Be業務フロー図から以下を抽出：
- 各プロセスの実施者（部門・役職）をアクターとして定義
- アクター種別:
  - 一般ユーザー: 日常業務を行うユーザー
  - 管理者: 部門管理者、承認者
  - システム管理者: システム設定・運用を行う管理者
  - 外部システム: 連携する外部システム

### ユースケース一覧の作成
機能一覧の各機能からユースケースを抽出：
- 1機能 = 1ユースケースを基本とする
- ユースケースID（UC-XXX）を採番
- 関連する機能ID（F-XXX）と業務プロセスID（P-XXX）を紐付ける
- 根拠となる議事録参照・議事録の該当箇所を記録し、後続フェーズで追跡できるようにする

## 2. ユースケース詳細（セクション2）

各ユースケースについて以下を記載：

### 基本情報
- ユースケースID、ユースケース名
- アクター
- 優先度（機能一覧の優先度を引き継ぐ）
- 関連機能、関連画面
- 対応する業務プロセス（To-Be業務フロー図のP-XXX）
- 頻度（業務記述書の処理頻度から抽出）
- 根拠となる議事録（議事録参照・発言者・該当箇所）

### 前提条件
To-Be業務プロセスのトリガー（開始条件）から抽出：
- 例: 「ユーザーがログインしている」
- 例: 「XXXデータが登録されている」

### 事後条件
To-Be業務プロセスの終了条件とアウトプットから抽出：
- 成功時: データが登録される、通知が送信される、など
- 失敗時: データは変更されない、エラーメッセージが表示される、など

### トリガー（開始条件）
To-Be業務プロセスのトリガーから抽出：
- 例: 「{アクター}が{画面}を開く」
- 例: 「{イベント}が発生する」

### 基本フロー（正常系）
To-Be業務プロセスのステップから詳細な操作フローを作成：
1. アクターの操作
2. システムの応答
3. アクターの次の操作
...

各ステップで以下を明記：
- アクター列: アクターが操作する場合は○
- システム列: システムが処理する場合は○
- 説明列: 具体的な操作/処理内容

### 代替フロー
To-Be業務プロセスの分岐・条件分岐から代替フローを抽出：
- 分岐条件を明記
- 代替フローの各ステップを記載
- どこに戻るか、または終了するかを明記

### 例外フロー
機能一覧のエラー処理から例外フローを抽出：
- 例外フロー E1: バリデーションエラー
- 例外フロー E2: データ重複エラー
- 例外フロー E3: システムエラー

各例外フローで以下を記載：
- 発生条件
- 処理ステップ
- エラーメッセージ

### ビジネスルール
To-Be業務プロセスの処理内容から業務ルールを抽出：
- 例: 「承認は上位者のみ可能」
- 例: 「月末締め後はデータ変更不可」

### 非機能要件
機能一覧の性能要件から抽出：
- 性能: レスポンスタイム
- 可用性: 稼働率
- セキュリティ: アクセス制御
- ユーザビリティ: 操作習得時間

### UIモックアップ
機能一覧の画面レイアウトから簡易的なワイヤーフレームを作成

### データ要件
機能一覧のインプット/アウトプットから詳細化：
- インプットデータ
- アウトプットデータ
- 使用するマスタデータ

### 関連するユースケース
ユースケース間の関係を定義：
- 前提: このユースケースの前に実行される
- 包含 (include): このユースケースの一部として必ず実行される
- 拡張 (extend): 特定条件下で実行される
- 後続: このユースケースの後に実行される可能性がある

## 3. ユースケース間の関係図（セクション3）
- ユースケース依存関係を図示
- ユースケース実行順序を整理

## 4. トレーサビリティマトリクス（セクション4）
- 業務要件とユースケースの対応
- ユースケースと機能の対応
- ユースケースと画面の対応

---

# 作成時の注意事項

1. **議事録との整合性**
   - 各ユースケースに対応する議事録（議事録参照・発言者）を必ず紐付ける
   - 議事録に無い要件を追加する場合は「仮説」「要確認」と明記

2. **業務フローとの対応**
   - ユースケースの基本フローがTo-Be業務プロセスと一致していること
   - プロセスのステップをユースケースのステップに変換

3. **アクターの明確化**
   - すべてのユースケースにアクターが設定されていること
   - アクターの役割が明確であること

4. **フローの具体性**
   - 基本フローは詳細かつ具体的に記述
   - 「データを入力する」ではなく「{項目1}、{項目2}を入力する」

5. **代替フローと例外フローの網羅性**
   - すべての分岐パターンを代替フローとして定義
   - 想定されるエラーをすべて例外フローとして定義

6. **前提条件と事後条件の明確化**
   - ユースケース実行前に満たされているべき条件を前提条件に記載
   - ユースケース実行後の状態を事後条件に記載

7. **トレーサビリティの確保**
   - 機能ID（F-XXX）、業務プロセスID（P-XXX）との対応を明記

---

# 作成後のチェックリスト

□ すべてのユースケースに議事録（議事録参照・発言者）の根拠が記載されている
□ すべての機能に対応するユースケースが定義されている
□ ユースケースIDが一貫して採番されている（UC-001, UC-002, ...）
□ すべてのユースケースにアクターが設定されている
□ 基本フローが具体的かつ詳細に記載されている
□ 代替フローと例外フローが網羅されている
□ 前提条件と事後条件が明確である
□ ビジネスルールが記載されている
□ データ要件が明確である
□ 関連するユースケースが整理されている
□ トレーサビリティマトリクスが作成されている

---

# 出力形式

「03_ユースケーステンプレート.md」の構成に従い、Markdown形式で出力してください。
```

## 使用例

```
# インプット情報

## 1. ヒアリング議事録（全回の議事録）
[議事録の抜粋]

## 2. 機能一覧
[`02_機能一覧テンプレート.md`の内容]

## 3. To-Be業務フロー図／業務記述書
[To-Be業務記述書の内容]

## 4. 既存システム・データ整理資料（任意）
[必要に応じて抜粋]

## 5. 外部IF一覧草案（任意）
[必要に応じて抜粋]

---

[上記プロンプトを適用]
```
