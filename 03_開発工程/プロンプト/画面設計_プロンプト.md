# 画面設計作成プロンプト

## 目的
要件定義書の内容を基に、ユーザーインターフェース（UI）の詳細設計書を作成します。

## インプット
以下のドキュメントを読み込んでください：
1. **要件定義書**: `[要件定義書のパス]`
2. **DB設計書**: `03_開発工程/テンプレート/DB設計.md`（表示データの確認）
3. **API設計書**: `03_開発工程/テンプレート/API設計.md`（データ取得APIの確認）

## 出力指示
`03_開発工程/テンプレート/画面設計.md` のテンプレートを使用して、画面設計書を作成してください。

## 作成ガイドライン

### 1. 要件定義書の分析
まず、以下の情報を要件定義書から抽出してください：

#### 1.1 画面要件の確認
- **画面一覧**: 要件に記載された全画面
- **画面フロー**: 画面間の遷移
- **表示項目**: 各画面で表示する情報
- **入力項目**: ユーザーが入力する情報
- **操作**: ボタン、リンク等のアクション

#### 1.2 UI/UX要件の確認
- **ターゲットユーザー**: 誰が使うか
- **デバイス**: PC、タブレット、スマートフォン
- **アクセシビリティ**: 高齢者対応、障害者対応等
- **デザインコンセプト**: 要件に記載されたUI/UXの方向性

#### 1.3 非機能要件の確認
- **性能要件**: 画面表示速度
- **ブラウザ対応**: 対応ブラウザ、バージョン
- **多言語対応**: 日本語、英語等

### 2. 画面設計の進め方

#### ステップ1: 画面設計方針の決定
1. **UI/UXコンセプト**: デザインの方向性
2. **デザインシステム**: UIフレームワーク、カラーパレット、フォント
3. **レスポンシブデザイン**: ブレイクポイント、各デバイスでのレイアウト
4. **共通UI要素**: ボタン、フォーム、メッセージ等の統一ルール

#### ステップ2: 画面一覧の作成
1. 要件定義書から全画面を洗い出し
2. 画面IDを採番（S001, S002...）
3. 各画面の基本情報を整理（URL、権限、関連API）

#### ステップ3: 画面詳細設計
各画面について以下を設計：
1. **ワイヤーフレーム**: レイアウトの骨組み
2. **画面項目定義**: 各項目の仕様
3. **ボタン定義**: アクション、API呼び出し
4. **バリデーション**: 入力チェック
5. **データフロー**: 入力→API→表示の流れ
6. **画面遷移**: どの画面に遷移するか
7. **エラーハンドリング**: エラー時の表示

### 3. 各セクションの作成指示

#### 3.1 画面設計方針 (セクション3)
**UI/UXコンセプト**:
- デザインコンセプト: 要件から導出（例: シンプル、直感的）
- ターゲットユーザー: 要件のユーザー像
- デバイス対応: 要件の対応デバイス
- アクセシビリティ: WCAG準拠レベル

**デザインシステム**:
- UIフレームワーク: Material-UI, Ant Design, Bootstrap等
- カラーパレット: プライマリ、セカンダリ、アクセントカラー
- タイポグラフィ: フォント、サイズ体系
- アイコンセット: Material Icons, Font Awesome等

**レスポンシブデザイン**:
- ブレイクポイント: XS, SM, MD, LG, XLの定義
- 各デバイスでのカラム数、レイアウト

**共通UI要素**:
- ボタン: プライマリ、セカンダリ、危険ボタンのスタイル
- フォーム要素: テキスト入力、セレクトボックス等の統一デザイン
- メッセージ表示: 成功、エラー、警告、情報の色分け

**画面遷移設計**:
- 遷移方式: ページ遷移、モーダル、タブ切替
- 遷移図: 画面間の遷移関係を図示

**エラーハンドリング**:
- エラー種別ごとの表示方法

#### 3.2 画面一覧 (セクション4)
全画面を一覧表で整理：
- 画面ID、画面名、種別（一覧、詳細、登録、編集等）
- アクセス権限、関連機能
- 要件定義書との対応

#### 3.3 画面詳細設計 (セクション5)
各画面について以下を詳細に定義：

**基本情報**:
- 画面ID、画面名、URL
- アクセス権限（ロール）
- 関連API（API設計書と対応）
- 用途

**ワイヤーフレーム**:
- テキストベースまたは図でレイアウトを表現
- ヘッダー、本文、フッターの配置
- 主要な要素（表、フォーム、ボタン等）の位置
- モバイル時のレイアウト変更も記載

**画面項目定義**:
各項目について：
- 項目名、項目ID
- 種類（テキスト、セレクト、チェックボックス等）
- 初期値、必須/任意
- 最大長、バリデーション
- データソース（DB設計書、API設計書と対応）

**ボタン定義**:
- ボタン名、アクション
- 呼び出すAPI（API設計書と対応）
- 成功時の動作、失敗時の動作

**バリデーション**:
- 各項目のバリデーションタイミング（入力時、フォーカス外れ時、送信時）
- 検証内容（必須チェック、形式チェック、範囲チェック等）
- エラーメッセージ（ユーザーフレンドリーな文言）

**データフロー**:
- 入力データの例（JSON）
- APIリクエストの例
- APIレスポンスの例
- 処理フロー（入力→バリデーション→API呼び出し→レスポンス処理→画面更新）

**画面遷移**:
- トリガー（ボタンクリック、リンククリック等）
- 遷移先画面（画面IDで参照）
- 遷移条件

**エラーハンドリング**:
- エラーケース（バリデーションエラー、API通信エラー等）
- 表示方法（フィールド下、トースト、モーダル等）
- エラーメッセージ

**デザインノート**:
- UIの特記事項
- UXの考慮点

#### 3.4 共通コンポーネント (セクション6)
- **ヘッダー**: ロゴ、ナビゲーション、ユーザーメニュー
- **サイドバー**: メニュー、折りたたみ
- **フッター**: コピーライト、リンク
- **ローディング表示**: 全画面、ボタン、テーブル
- **ページネーション**: ページ番号、前へ/次へボタン

#### 3.5 アクセシビリティ (セクション7)
- キーボード操作対応
- スクリーンリーダー対応（ARIA属性）
- カラーコントラスト（WCAG基準）
- フォーカス表示
- 代替テキスト
- ショートカットキー

#### 3.6 パフォーマンス (セクション8)
- 初回表示時間、ページ遷移時間の目標
- 最適化手法（Lazy Loading, Code Splitting, キャッシュ等）

#### 3.7 多言語対応 (セクション9)
[必要に応じて]
- 対応言語、対応範囲
- 切替方法

#### 3.8 ブラウザ対応 (セクション10)
- 対応ブラウザ、バージョン
- 非対応ブラウザの扱い

#### 3.9 テスト (セクション11)
- テスト観点（機能、UI、レスポンシブ、アクセシビリティ、ブラウザ互換性）
- テストツール（E2E, ビジュアルリグレッション等）

### 4. 画面設計の重要ポイント

#### 4.1 ワイヤーフレーム作成
- **低忠実度**: テキストベースで骨組みのみ表現
- **配置**: 重要な要素を目立つ位置に
- **情報階層**: 主要情報を上部、補助情報を下部
- **視線の流れ**: 左上から右下へのZ型、上から下へのF型
- **グリッドシステム**: 12カラムグリッド等で整列

#### 4.2 UI要素の設計
**フォーム設計**:
- ラベルは入力欄の上または左
- 必須項目は「*」マークで明示
- プレースホルダーでヒントを表示
- バリデーションエラーは該当フィールドの下に赤字で表示

**ボタン設計**:
- プライマリアクションは目立つ色（青等）
- 危険な操作（削除等）は赤
- ボタンテキストは動詞で開始（「登録する」「削除する」）
- モバイルでタップしやすいサイズ（最小44x44px）

**テーブル設計**:
- ヘッダー行は固定
- ソート可能なカラムはアイコン表示
- アクションカラム（編集、削除）は右端
- ページネーション

#### 4.3 データフロー設計
- **入力**: ユーザーがフォームに入力
- **バリデーション**: クライアント側で即座にチェック
- **API呼び出し**: バリデーション通過後、APIリクエスト
- **レスポンス処理**: 成功時/失敗時の処理
- **画面更新**: データ表示、メッセージ表示、遷移

#### 4.4 バリデーション設計
**タイミング**:
- リアルタイム: 入力中にチェック（文字数等）
- フォーカス外れ時: フィールドから離れた時（メールアドレス形式等）
- 送信時: 全項目をチェック

**検証内容**:
- 必須チェック
- 形式チェック（メールアドレス、電話番号、URL等）
- 範囲チェック（最小値、最大値）
- 相関チェック（パスワードと確認用パスワードの一致等）

**エラーメッセージ**:
- 具体的で理解しやすい文言
- 例: ✗「入力エラー」→ ✓「メールアドレスの形式が正しくありません」

#### 4.5 アクセシビリティ
- **キーボード操作**: Tab, Enter, Escapeで全操作可能
- **フォーカス表示**: 現在フォーカスされている要素が明確
- **代替テキスト**: 画像にalt属性
- **カラーコントラスト**: 背景と文字の対比4.5:1以上
- **ARIA属性**: スクリーンリーダー対応

#### 4.6 レスポンシブデザイン
- **モバイルファースト**: 小画面から設計
- **タッチ操作**: ボタン、リンクは十分なサイズ
- **画像**: レスポンシブイメージ（srcset）
- **ナビゲーション**: モバイルではハンバーガーメニュー
- **テーブル**: モバイルでは縦並びやカード表示

#### 4.7 パフォーマンス最適化
- **画像最適化**: 適切なサイズ、フォーマット（WebP）
- **Lazy Loading**: スクロールに応じて画像やコンポーネントを読み込み
- **Code Splitting**: 必要なコードのみ読み込み
- **キャッシュ**: 静的リソースのブラウザキャッシュ
- **圧縮**: Gzip, Brotli圧縮

### 5. チェックリスト
作成後、以下を確認してください：

**画面設計方針**
- [ ] UI/UXコンセプトが明確である
- [ ] デザインシステム（UIフレームワーク、カラー、フォント）が定義されている
- [ ] レスポンシブデザインのブレイクポイントが定義されている
- [ ] 共通UI要素が統一されている

**画面一覧**
- [ ] 要件定義書の全画面が一覧に含まれている
- [ ] 各画面にIDが採番されている
- [ ] アクセス権限が明確である

**画面詳細設計**
- [ ] 全画面の詳細設計が記載されている
- [ ] ワイヤーフレームでレイアウトが視覚的にわかる
- [ ] 画面項目が全て定義されている
- [ ] ボタンのアクションが明確である
- [ ] バリデーションが適切に設定されている
- [ ] データフローが明確である（入力→API→表示）
- [ ] 画面遷移が定義されている
- [ ] エラーハンドリングが適切である

**データとの整合性**
- [ ] 画面項目がDB設計書のカラムと対応している
- [ ] API呼び出しがAPI設計書と対応している
- [ ] 表示データがAPIレスポンスと一致している

**UI/UX**
- [ ] ワイヤーフレームが直感的でわかりやすい
- [ ] フォームが使いやすい（ラベル、プレースホルダー）
- [ ] ボタン配置が適切である（プライマリアクションは目立つ位置）
- [ ] エラーメッセージがユーザーフレンドリーである

**バリデーション**
- [ ] 全入力項目にバリデーションが設定されている
- [ ] バリデーションタイミングが適切である
- [ ] エラーメッセージが具体的である

**アクセシビリティ**
- [ ] キーボード操作が可能である
- [ ] ARIA属性が適切に使用されている
- [ ] カラーコントラストがWCAG基準を満たしている
- [ ] 代替テキストが設定されている

**レスポンシブ**
- [ ] 各ブレイクポイントでのレイアウトが定義されている
- [ ] モバイルで操作しやすいUI（タップしやすいボタンサイズ）
- [ ] テーブルのモバイル表示が考慮されている

**パフォーマンス**
- [ ] 表示速度の目標が設定されている
- [ ] 最適化手法が定義されている

**ブラウザ対応**
- [ ] 対応ブラウザ、バージョンが明確である
- [ ] 非対応ブラウザの扱いが定義されている

**ドキュメント**
- [ ] 各画面の用途が明確である
- [ ] ワイヤーフレームがわかりやすい
- [ ] データフローが図または説明で明確である

## 出力形式
- テンプレートの構造を維持
- 各項目を過不足なく埋める
- ワイヤーフレームはテキストまたは図で視覚的に表現
- JSON例は実際のデータ構造で記載

## 記載時の注意事項

### 具体性
- 抽象的な表現を避け、具体的なレイアウト、項目、バリデーションを記載
- 例: ✗「適切な画面設計」→ ✓「ヘッダー60px、本文、フッター80px、ログインボタンは画面中央」

### 要件との紐付け
- 各画面が要件定義書のどの機能から導出されたか明記
- 例: 「要件定義書3.1のユーザー登録機能で使用」

### DB/API設計との整合性
- 画面項目がDB設計書のカラムと対応
- API呼び出しがAPI設計書と対応
- データフローが一貫している

### 実装可能性
- 技術的に実装可能なUI
- 一般的なUIフレームワーク、コンポーネントを使用

### 一貫性
- 画面間でデザインが統一されている（ボタン、フォーム、色等）
- 命名規則の統一（画面ID、項目ID）
- バリデーションルールの統一

### ユーザビリティ
- ユーザーが迷わない直感的なUI
- エラーメッセージがわかりやすい
- アクションの結果が明確（成功/失敗メッセージ）

## 最終出力先
`03_開発工程/画面設計.md` に保存してください。
