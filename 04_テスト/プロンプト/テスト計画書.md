# テスト計画書作成プロンプト

## 目的
要件定義書および詳細設計書の内容を基に、包括的なテスト計画書を作成します。

## インプット
以下のドキュメントを読み込んでください：
1. **要件定義書**: `[要件定義書のパス]`
2. **システム構成図**: `03_開発工程/テンプレート/システム構成図.md`
3. **DB設計書**: `03_開発工程/テンプレート/DB設計.md`
4. **API設計書**: `03_開発工程/テンプレート/API設計.md`
5. **画面設計書**: `03_開発工程/テンプレート/画面設計.md`
6. **帳票設計書**: `03_開発工程/テンプレート/帳票設計.md`
7. **運用設計書**: `03_開発工程/テンプレート/運用設計.md`

## 出力指示
`04_テスト/テンプレート/テスト計画書.md` のテンプレートを使用して、テスト計画書を作成してください。

## 作成ガイドライン

### 1. ドキュメント分析
まず、以下の情報をドキュメントから抽出してください：

#### 1.1 要件定義書の分析
- **機能要件**: テスト対象となる全機能
- **非機能要件**: 性能、セキュリティ、可用性等のテスト観点
- **制約条件**: テストスコープに影響する制約
- **受入基準**: テスト完了基準の判断材料

#### 1.2 詳細設計書の分析
- **システム構成**: テスト環境構築に必要な情報
- **DB設計**: データ準備、DBテストの観点
- **API設計**: APIテストの観点、エンドポイント数
- **画面設計**: 画面テストの観点、画面数
- **帳票設計**: 帳票テストの観点、帳票数
- **運用設計**: 運用テストの観点、バッチ処理等

### 2. テスト計画の作成手順

#### ステップ1: テスト方針の決定
1. **テスト目的**: 品質保証、欠陥検出、リスク低減
2. **テスト戦略**: リスクベース、要件ベース、自動化方針
3. **品質目標**: 要件の品質目標から設定
   - 機能網羅率: 100%（全要件をカバー）
   - コードカバレッジ: 80%以上（業界標準）
   - 欠陥収束率: 95%以上（テスト終了時）

#### ステップ2: テストスコープの定義
**テスト対象**:
- 機能要件: 要件定義書の全機能
- 非機能要件: 性能、セキュリティ、可用性等
- API: API設計書の全エンドポイント
- 画面: 画面設計書の全画面
- DB: DB設計書の全テーブル
- 帳票: 帳票設計書の全帳票
- バッチ: 運用設計書の全バッチ

**テスト対象外**:
- 外部システムの内部動作
- サポート対象外のブラウザ
- 第三者ライブラリの内部ロジック

#### ステップ3: テストレベルの設計
各テストレベルで何をテストするか定義：

**単体テスト**:
- 目的: 個別関数、モジュールの動作確認
- 担当: 開発者
- 自動化: 100%
- カバレッジ目標: 80%以上

**結合テスト**:
- 目的: モジュール間連携、API連携
- 担当: 開発者、QAエンジニア
- 自動化: 主要パス
- 重点: API、DB連携、外部システム連携

**システムテスト**:
- 目的: システム全体の動作、要件適合性
- 担当: QAエンジニア
- 自動化: 一部
- 重点: 機能要件、非機能要件の検証

**受入テスト (UAT)**:
- 目的: ビジネス要件適合性、ユーザー視点検証
- 担当: ビジネス部門、エンドユーザー
- 自動化: なし
- 重点: ビジネスシナリオ、ユーザビリティ

**性能テスト**:
- 目的: 性能要件の達成確認
- 担当: QAエンジニア、インフラエンジニア
- 自動化: 100%
- 重点: レスポンスタイム、スループット、同時接続数

**セキュリティテスト**:
- 目的: 脆弱性検出、セキュリティ要件確認
- 担当: セキュリティエンジニア
- 自動化: 脆弱性スキャンは自動化
- 重点: 認証、認可、インジェクション攻撃

#### ステップ4: テスト観点の抽出
**機能テスト観点**:
- 正常系: 仕様通りの動作
- 異常系: エラーケース
- 境界値: 最小値、最大値、境界値±1
- 同値分割: 代表値
- 組み合わせ: 直交表、ペアワイズ法
- 状態遷移: ワークフロー、画面遷移

**非機能テスト観点**:
- 性能: 要件定義書の性能目標
- 負荷: 想定の150%負荷
- ストレス: 限界値
- 可用性: SLA目標値
- セキュリティ: OWASP Top 10
- ユーザビリティ: タスク完了時間、エラー率
- 互換性: 対応ブラウザ

**テストタイプ別観点**:
- 画面: レイアウト、バリデーション、遷移、レスポンシブ
- API: リクエスト/レスポンス、認証、エラーハンドリング
- DB: CRUD、整合性、トランザクション
- 帳票: レイアウト、データ正確性、PDF生成
- バッチ: 処理結果、実行時間、エラーハンドリング

#### ステップ5: テストスケジュールの策定
**工数見積**:
- 機能数、画面数、API数から見積
- 1機能あたり: テストケース作成0.5人日、実施1人日
- バッファ: 20%程度

**スケジュール**:
- テスト計画: 1週間
- テスト設計: 2週間
- テストケース作成: 3-4週間
- テスト実施: 4-6週間
- 欠陥修正・再テスト: 2-3週間

#### ステップ6: テスト環境の計画
**環境構成**:
- 開発環境: 単体テスト用
- テスト環境: 結合・システムテスト用
- ステージング環境: 受入テスト用（本番同等）

**テストデータ**:
- マスタデータ: ユーザー、商品等
- トランザクションデータ: 注文、決済等
- 境界値データ: 最小値、最大値
- 異常データ: 不正データ

#### ステップ7: テストリソースの計画
**体制**:
- テストマネージャー: 1名
- QAリーダー: 1名
- QAエンジニア: 機能数に応じて（3-5名程度）
- 自動化エンジニア: 1名
- 性能テストエンジニア: 1名（必要に応じて）

**スキル要件**:
- テスト設計、テストケース作成
- テスト自動化（Playwright/Selenium等）
- 性能テスト（JMeter/Gatling等）

#### ステップ8: テストツールの選定
**ツール選定基準**:
- 技術スタックとの親和性
- コスト
- 学習コスト
- コミュニティサポート

**推奨ツール**:
- 単体テスト: Jest（JavaScript）、pytest（Python）
- E2Eテスト: Playwright、Cypress
- APIテスト: Postman、Newman
- 性能テスト: JMeter、Gatling、k6
- セキュリティテスト: OWASP ZAP、Burp Suite
- 欠陥管理: Jira、GitHub Issues

#### ステップ9: 欠陥管理プロセスの定義
**欠陥重要度**:
- Critical: システム全体に影響、即日対応
- High: 主要機能不可、2営業日以内
- Medium: 一部機能に影響、1週間以内
- Low: 軽微な問題、次回リリース時

**欠陥管理指標**:
- 新規欠陥数（日次）
- 累積欠陥数（日次）
- 修正完了率（週次）
- 再発率（週次）

#### ステップ10: 完了基準の設定
**テスト完了基準**:
- テストケース実施率: 100%
- テストケース合格率: 95%以上
- 重大欠陥（Critical/High）: 0件
- コードカバレッジ: 80%以上
- 性能要件: 全項目で基準達成
- セキュリティ要件: 重大脆弱性0件

**リリース判定基準**:
- テスト完了基準を全てクリア
- 受入テストでステークホルダーの承認取得
- 本番環境でスモークテスト合格
- ロールバック手順確認済み

### 3. 各セクションの作成指示

#### 3.1 テスト方針 (セクション3)
- テスト目的、戦略を明確化
- 品質目標を要件から設定
- 自動化方針を技術スタックに応じて決定

#### 3.2 テストスコープ (セクション4)
- 詳細設計書から全テスト対象を列挙
- 対象外も明確化

#### 3.3 テストレベル (セクション5)
- 各テストレベルの目的、担当、自動化方針を定義
- 重点項目を明確化

#### 3.4 テスト観点 (セクション6)
- 機能テスト観点、非機能テスト観点を列挙
- テストタイプ別の観点も整理

#### 3.5 テストスケジュール (セクション7)
- プロジェクト全体スケジュールに合わせて策定
- マイルストーンを明確化

#### 3.6 テスト環境 (セクション8)
- システム構成図を参考に環境構成を定義
- テストデータの準備計画

#### 3.7 テストリソース (セクション9)
- 必要な人数、スキルを定義
- 工数見積を記載

#### 3.8 テストツール (セクション10)
- 使用ツールとその用途を明確化
- 自動化対象と自動化率を設定

#### 3.9 欠陥管理 (セクション11)
- 欠陥管理プロセス、重要度、ステータスを定義
- 欠陥管理指標を設定

#### 3.10 完了基準 (セクション12)
- テスト完了基準、リリース判定基準を定義
- 数値化された基準を設定

#### 3.11 リスク管理 (セクション13)
- 想定されるリスクと対策を列挙

#### 3.12 コミュニケーション (セクション14)
- 報告体制、会議体を定義

### 4. 作成時の重要ポイント

#### 4.1 要件との紐付け
- 全ての機能要件がテストスコープに含まれているか確認
- 非機能要件の数値目標をテスト完了基準に反映

#### 4.2 詳細設計との整合性
- 画面数、API数、DB数、帳票数、バッチ数を正確にカウント
- これらの数からテストケース数、工数を見積

#### 4.3 現実的なスケジュール
- 過去プロジェクトの実績を参考
- バッファを20%程度確保

#### 4.4 リスクの洗い出し
- 技術的リスク、スケジュールリスク、リソースリスクを想定
- 対策を事前に準備

#### 4.5 自動化戦略
- 費用対効果を考慮
- 単体テスト、APIテストは100%自動化
- E2Eテストは主要パスのみ自動化

### 5. チェックリスト

**テスト方針**
- [ ] テスト目的が明確である
- [ ] テスト戦略（リスクベース、自動化方針等）が定義されている
- [ ] 品質目標が数値化されている

**テストスコープ**
- [ ] 要件定義書の全機能がテスト対象に含まれている
- [ ] 詳細設計書の全コンポーネント（画面、API、DB等）が含まれている
- [ ] テスト対象外が明確である

**テストレベル**
- [ ] 単体、結合、システム、受入、性能、セキュリティテストが定義されている
- [ ] 各レベルの目的、担当、自動化方針が明確である

**テスト観点**
- [ ] 機能テスト観点（正常系、異常系、境界値等）が網羅されている
- [ ] 非機能テスト観点（性能、セキュリティ等）が要件をカバーしている

**テストスケジュール**
- [ ] 全フェーズの開始日、終了日が明記されている
- [ ] マイルストーンが設定されている
- [ ] プロジェクト全体スケジュールと整合している

**テスト環境**
- [ ] 環境構成が定義されている
- [ ] テストデータ準備計画がある

**テストリソース**
- [ ] 必要な体制、人数が定義されている
- [ ] 工数見積が妥当である

**テストツール**
- [ ] 使用ツールが選定されている
- [ ] 自動化対象と自動化率が設定されている

**欠陥管理**
- [ ] 欠陥管理プロセスが定義されている
- [ ] 欠陥重要度と対応期限が明確である
- [ ] 欠陥管理指標が設定されている

**完了基準**
- [ ] テスト完了基準が数値化されている
- [ ] リリース判定基準が明確である
- [ ] 要件の受入基準と整合している

**リスク管理**
- [ ] 主要リスクが洗い出されている
- [ ] 各リスクの対策が定義されている

## 出力形式
- テンプレートの構造を維持
- 各項目を過不足なく埋める
- 数値は具体的に記載（「適切に」等の抽象表現を避ける）

## 記載時の注意事項

### 具体性
- 抽象的な表現を避け、具体的な数値、期日、担当者を記載
- 例: ✗「十分なテスト」→ ✓「テストケース実施率100%、合格率95%以上」

### 要件との紐付け
- 要件定義書の全機能要件がテストスコープに含まれていることを確認
- 例: 「要件定義書3.1.1〜3.1.50の全機能をテスト対象とする」

### 詳細設計との整合性
- 画面数、API数等の数値が詳細設計書と一致
- 工数見積が妥当（過去実績、業界標準と比較）

### 実現可能性
- 現実的なスケジュール、工数、リソース
- 利用可能なツール、技術

## 最終出力先
`testtmp/テスト計画書.md` に保存してください。
