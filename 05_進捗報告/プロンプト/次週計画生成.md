# 次週計画生成プロンプト

## 目的

WBS、今週の進捗状況、残タスクから次週の重点タスクと予定会議を自動生成する。

---

## プロンプト本文

```
あなたはITプロジェクトのPMアシスタントです。
以下の情報から次週（来週）のプロジェクト計画を作成してください。

# プロジェクト情報
**プロジェクト名**: {プロジェクト名}
**現在のフェーズ**: {要件定義/基本設計/詳細設計/開発/テスト}
**次のマイルストーン**: {マイルストーン名}（期日: {YYYY/MM/DD}、残り{XX}日）
**プロジェクト体制**:
- PM: {名前}
- 開発リーダー: {名前}
- メンバー: {名前1、名前2、...}

---

## 今週の進捗状況

### 完了タスク
- {タスク名1}（担当: {担当者}）
- {タスク名2}（担当: {担当者}）
- ...

### 未完了タスク（遅延）
- {タスク名}（担当: {担当者}、遅延日数: {X}日、原因: {原因}）
- ...

### 今週の課題
- {課題内容}（影響: {影響範囲}）
- ...

---

## WBS（残タスク一覧）

### 次週対応予定タスク

| タスクID | タスク名 | 担当者 | 予定工数 | 依存関係 | 優先度 | 備考 |
|---------|---------|--------|---------|---------|--------|------|
| T-001 | {タスク名} | {担当者} | {X}h | {依存タスクID} | 高/中/低 | {備考} |
| T-002 | {タスク名} | {担当者} | {X}h | - | 高/中/低 | {備考} |
| ... | ... | ... | ... | ... | ... | ... |

### クリティカルパス上のタスク

{クリティカルパス上のタスクIDを列挙: T-001, T-005, T-008など}

### バッファ状況

- 次のマイルストーンまでのバッファ: {X}日
- 消費済みバッファ: {Y}日
- 残りバッファ: {Z}日

---

## チームメンバーの稼働状況

| メンバー名 | 今週の稼働率 | 次週の予定稼働率 | 制約事項 |
|-----------|------------|---------------|---------|
| {名前1} | 80% | 100% | - |
| {名前2} | 100% | 50% | 来週木・金は他案件対応 |
| ... | ... | ... | ... |

---

## 計画作成要件

### 1. 次週の重点タスク選定

以下の基準で次週の重点タスクを選定してください：

**選定基準**（優先度順）:

1. **クリティカルパス優先**:
   - クリティカルパス上のタスクを最優先
   - 遅延すると全体スケジュールに直接影響

2. **依存関係の考慮**:
   - 依存タスクが完了していないタスクは除外
   - または依存タスクとセットで計画

3. **リソース最適化**:
   - メンバーの稼働率を考慮
   - 特定メンバーへの負荷集中を避ける
   - スキルマッチを考慮

4. **バッファ確保**:
   - 予期せぬ問題に備えて余裕を持たせる
   - 100%の稼働率ではなく、80-90%で計画

5. **今週の遅延タスク**:
   - 今週未完了のタスクを次週に繰り越し
   - 遅延原因が解決済みか確認

**出力形式**（表形式）:
| タスクID | タスク名 | 優先度 | 担当者 | 予定期間 | 工数 | 成果物 | 完了条件 |
|---------|---------|--------|--------|---------|------|--------|---------|
| T-XXX | {タスク名} | 高/中/低 | {担当者} | MM/DD - MM/DD | XXh | {成果物名} | {完了条件} |

### 2. 予定会議の提案

以下の会議を提案してください：

**定例会議**:
- 週次定例MTG（毎週{曜日} {時間}）
- 朝会/夕会（該当する場合）

**レビュー会議**:
- 成果物レビュー（基本設計書、詳細設計書など）
- コードレビュー（該当する場合）

**顧客との打ち合わせ**:
- 進捗報告
- 仕様確認
- 承認会議

**その他**:
- 課題解決のための緊急MTG
- 技術検討会

**出力形式**（表形式）:
| 会議名 | 日時 | 参加者 | 目的 | 所要時間 | 成果物 | 備考 |
|-------|------|--------|------|---------|--------|------|
| {会議名} | MM/DD(曜) HH:MM | {参加者} | {目的} | XXmin | {議事録、レビュー記録など} | {備考} |

### 3. リスク対策の計画

今週発生した課題やリスクに対する次週の対策を計画してください：

**出力形式**（表形式）:
| 課題/リスク | 次週の対策 | 担当者 | 期限 | 成功基準 |
|-----------|-----------|--------|------|---------|
| {課題内容} | {対策内容} | {担当者} | MM/DD | {成功基準} |

### 4. クリティカルパスの確認

次週終了時点でのクリティカルパスの状況を予測してください：

**出力内容**:
- 次週完了予定のクリティカルパスタスク
- 残りのクリティカルパスタスク
- マイルストーン達成の見込み（🟢順調/🟡注意/🔴危険）
- 遅延リスクと対策

---

## 出力形式

以下のMarkdown形式で出力してください：

\`\`\`markdown
## 次週計画（YYYY/MM/DD 〜 YYYY/MM/DD）

**プロジェクト**: {プロジェクト名}
**フェーズ**: {現在のフェーズ}
**目標**: {次週の主要目標を1-2文で}

---

### 1. 次週の重点タスク

#### 1.1 最優先タスク（クリティカルパス）

| タスクID | タスク名 | 優先度 | 担当者 | 予定期間 | 工数 | 成果物 | 完了条件 |
|---------|---------|--------|--------|---------|------|--------|---------|
| T-XXX | {タスク名} | 高 | {担当者} | MM/DD - MM/DD | XXh | {成果物名} | {完了条件} |
| ... | ... | ... | ... | ... | ... | ... | ... |

#### 1.2 重要タスク

| タスクID | タスク名 | 優先度 | 担当者 | 予定期間 | 工数 | 成果物 | 完了条件 |
|---------|---------|--------|--------|---------|------|--------|---------|
| T-XXX | {タスク名} | 中 | {担当者} | MM/DD - MM/DD | XXh | {成果物名} | {完了条件} |
| ... | ... | ... | ... | ... | ... | ... | ... |

#### 1.3 今週からの繰り越しタスク

| タスクID | タスク名 | 担当者 | 遅延理由 | 完了予定日 | 対策 |
|---------|---------|--------|---------|-----------|------|
| T-XXX | {タスク名} | {担当者} | {理由} | MM/DD | {対策} |

---

### 2. 予定会議

| 会議名 | 日時 | 参加者 | 目的 | 所要時間 | 成果物 | 備考 |
|-------|------|--------|------|---------|--------|------|
| 週次定例MTG | MM/DD(金) 16:00 | 全員 | 進捗共有、課題確認 | 60min | 議事録 | - |
| 基本設計レビュー | MM/DD(水) 14:00 | 顧客、PM、開発 | 設計承認 | 120min | レビュー記録 | 顧客参加 |
| ... | ... | ... | ... | ... | ... | ... |

---

### 3. リスク対策

| 課題/リスク | 次週の対策 | 担当者 | 期限 | 成功基準 |
|-----------|-----------|--------|------|---------|
| DB設計遅延 | 顧客との仕様確認MTG実施 | PM | MM/DD | 仕様確定、設計完了 |
| テストサーバー不安定 | クラウド環境で代替構築 | インフラ担当 | MM/DD | 検証環境稼働 |
| ... | ... | ... | ... | ... |

---

### 4. クリティカルパス状況

**次週完了予定**:
- T-001: DB設計完了（MM/DD完了予定）
- T-005: API設計完了（MM/DD完了予定）

**残りのクリティカルパス**:
- T-008: 画面設計（次々週対応）
- T-012: 基本設計レビュー（次々週対応）

**マイルストーン達成見込み**: 🟢順調 / 🟡注意 / 🔴危険

**コメント**:
{マイルストーン達成に向けた現状分析とリスク}

---

### 5. メンバー別タスク割り当て

| メンバー名 | タスクID | タスク名 | 予定工数 | 稼働率 |
|-----------|---------|---------|---------|--------|
| {名前1} | T-001, T-003 | DB設計、... | 32h | 80% |
| {名前2} | T-002 | API設計 | 24h | 60% |
| ... | ... | ... | ... | ... |

**注意事項**:
- {名前2}は木・金に他案件対応のため、前半にタスク集中
- バッファとして20%の余裕を確保

---

### 6. 次週の成功基準

次週を成功とみなす基準：

1. ✅ クリティカルパスタスクを全て完了（T-001, T-005）
2. ✅ 基本設計レビューで承認取得
3. ✅ 今週からの繰り越しタスクを全て解消
4. ✅ 新規課題・リスクが3件以下

---

### 7. PMへのメモ

**特に注意すべき点**:
- {注意事項}

**事前準備が必要な事項**:
- {準備事項}

**顧客への依頼事項**:
- {依頼事項}
\`\`\`

---

## 補足指示

1. **現実的な計画**:
   - 楽観的にならず、過去の実績を考慮
   - メンバーの稼働率は最大90%程度で計画（予期せぬ問題に備える）

2. **依存関係の明確化**:
   - タスクの順序を論理的に
   - 並行作業可能なタスクは並行で計画

3. **マイルストーンを意識**:
   - 次のマイルストーンまでの残り日数を常に意識
   - バッファが不足している場合は警告

4. **具体的な成果物**:
   - 「検討する」ではなく「〇〇設計書を完成させる」など具体的に
   - 成果物の品質基準も明記

5. **会議の最適化**:
   - 不要な会議は提案しない
   - 会議の目的と成果物を明確に
```

---

## 使用例

### 入力例

**プロジェクト情報**:
- プロジェクト名: 在庫管理システム刷新
- 現在のフェーズ: 基本設計
- 次のマイルストーン: 基本設計完了（2025/11/1、残り7日）
- PM: 田中、開発リーダー: 鈴木、メンバー: 佐藤、高橋

**今週の進捗**:
- 完了: 要件定義レビュー、DB論理設計
- 未完了: DB物理設計（遅延3日、原因: 仕様未確定）

**WBS（次週対応予定）**:
- T-001: DB物理設計完了（担当: 鈴木、8h）
- T-002: API設計（担当: 佐藤、16h）
- T-003: 画面設計（担当: 高橋、20h）
- T-004: 基本設計レビュー（担当: 全員、4h）

**クリティカルパス**: T-001 → T-002 → T-004

**稼働状況**:
- 田中(PM): 50%（他案件兼務）
- 鈴木: 100%
- 佐藤: 100%
- 高橋: 80%（金曜休暇）

### 出力例

```markdown
## 次週計画（2025/10/28 〜 2025/11/1）

**プロジェクト**: 在庫管理システム刷新
**フェーズ**: 基本設計
**目標**: 基本設計を完了し、マイルストーン達成。特にDB物理設計とAPI設計をクリティカルパス上で完了させる。

---

### 1. 次週の重点タスク

#### 1.1 最優先タスク（クリティカルパス）

| タスクID | タスク名 | 優先度 | 担当者 | 予定期間 | 工数 | 成果物 | 完了条件 |
|---------|---------|--------|--------|---------|------|--------|---------|
| T-001 | DB物理設計完了 | 高 | 鈴木 | 10/28 - 10/29 | 8h | DB物理設計書 | レビュー完了、顧客承認 |
| T-002 | API設計 | 高 | 佐藤 | 10/30 - 10/31 | 16h | API設計書 | エンドポイント定義完了 |
| T-004 | 基本設計レビュー | 高 | 全員 | 11/1 | 4h | レビュー記録 | 顧客承認取得 |

#### 1.2 重要タスク

| タスクID | タスク名 | 優先度 | 担当者 | 予定期間 | 工数 | 成果物 | 完了条件 |
|---------|---------|--------|--------|---------|------|--------|---------|
| T-003 | 画面設計 | 中 | 高橋 | 10/28 - 10/31 | 20h | 画面設計書（初版） | 主要画面5画面の設計完了 |

#### 1.3 今週からの繰り越しタスク

| タスクID | タスク名 | 担当者 | 遅延理由 | 完了予定日 | 対策 |
|---------|---------|--------|---------|-----------|------|
| T-001 | DB物理設計 | 鈴木 | 仕様未確定 | 10/29 | 10/28に顧客との緊急仕様確認MTG実施 |

---

### 2. 予定会議

| 会議名 | 日時 | 参加者 | 目的 | 所要時間 | 成果物 | 備考 |
|-------|------|--------|------|---------|--------|------|
| DB仕様確認MTG（緊急） | 10/28(月) 10:00 | 顧客、PM、鈴木 | DB物理設計の仕様確定 | 60min | 議事録、確定仕様 | 最優先 |
| 週次定例MTG | 11/1(金) 16:00 | 全員 | 進捗共有、次週計画 | 60min | 議事録 | - |
| 基本設計レビュー | 11/1(金) 14:00 | 顧客、PM、開発全員 | 基本設計の承認取得 | 120min | レビュー記録、承認書 | マイルストーン |

---

### 3. リスク対策

| 課題/リスク | 次週の対策 | 担当者 | 期限 | 成功基準 |
|-----------|-----------|--------|------|---------|
| DB設計遅延（3日） | 顧客との緊急MTGで仕様確定 | PM、鈴木 | 10/28 | 仕様確定、設計完了 |
| 高橋が金曜休暇 | 画面設計は木曜までに初版完了 | 高橋 | 10/31 | 主要画面設計完了 |

---

### 4. クリティカルパス状況

**次週完了予定**:
- T-001: DB物理設計完了（10/29完了予定）
- T-002: API設計完了（10/31完了予定）
- T-004: 基本設計レビュー（11/1完了予定）

**残りのクリティカルパス**:
- なし（基本設計フェーズ完了）

**マイルストーン達成見込み**: 🟡注意

**コメント**:
DB物理設計が3日遅延しているため、10/28の緊急MTGで仕様を確定できなければマイルストーン達成が困難。ただし、バッファが2日あるため、緊急MTGで解決すれば達成可能。

---

### 5. メンバー別タスク割り当て

| メンバー名 | タスクID | タスク名 | 予定工数 | 稼働率 |
|-----------|---------|---------|---------|--------|
| 田中(PM) | - | 全体管理、顧客調整 | 20h | 50% |
| 鈴木 | T-001 | DB物理設計 | 8h | 20% |
| 佐藤 | T-002 | API設計 | 16h | 40% |
| 高橋 | T-003 | 画面設計 | 20h | 63% |

**注意事項**:
- 高橋は金曜休暇のため、実稼働は32h（月〜木）
- 全員がT-004（基本設計レビュー）に4h確保
- バッファとして各自20%程度の余裕を確保

---

### 6. 次週の成功基準

次週を成功とみなす基準：

1. ✅ クリティカルパスタスクを全て完了（T-001, T-002, T-004）
2. ✅ 基本設計レビューで顧客承認取得
3. ✅ DB物理設計の遅延を解消
4. ✅ 新規課題・リスクが発生しない

---

### 7. PMへのメモ

**特に注意すべき点**:
- 10/28の緊急MTGが最重要。仕様確定できなければマイルストーン達成不可。
- 基本設計レビュー（11/1）は顧客承認が必須。事前に資料を送付してレビュー時間を短縮。

**事前準備が必要な事項**:
- 10/28の緊急MTGのアジェンダ作成（10/27までに顧客に送付）
- 基本設計レビュー資料の準備（10/30までに顧客に送付）

**顧客への依頼事項**:
- 10/28の緊急MTGへの参加（意思決定者の同席必須）
- 基本設計レビュー前の資料事前確認（10/30送付、10/31までに確認依頼）
```

---

## Git/プロジェクト管理ツールとの連携

### GitHub Projectsからタスク取得

```bash
# 次週のマイルストーン取得
gh api repos/{owner}/{repo}/milestones --jq '.[] | select(.due_on > "2025-10-28" and .due_on < "2025-11-04")'

# オープンなissue（残タスク）
gh issue list --state open --json number,title,assignees,labels,milestone

# クリティカルパスタスク（ラベルで管理）
gh issue list --label "critical-path" --state open
```

### Jira APIからタスク取得

```bash
# JQL（Jira Query Language）で次週のタスク取得
curl -u user:token "https://your-domain.atlassian.net/rest/api/3/search?jql=project=PROJ AND duedate >= '2025-10-28' AND duedate <= '2025-11-04'"
```

---

## まとめ

このプロンプトを使用することで：

1. ✅ **クリティカルパス優先**: 遅延リスクの高いタスクを優先的に計画
2. ✅ **リソース最適化**: メンバーの稼働状況を考慮した現実的な計画
3. ✅ **バッファ確保**: 予期せぬ問題に備えた余裕を持った計画
4. ✅ **具体的な成果物**: 「検討する」ではなく「〇〇を完成させる」という明確なゴール

**次のステップ**:
- 毎週金曜日に次週計画を作成
- 進捗報告書のセクション10に反映
- チーム全体で次週計画を共有
