# 質問管理表 更新プロンプト

## 目的

会議の議事録や日常のコミュニケーションから質問を抽出し、Notion上の質問管理DBに登録・更新する。優先度やカテゴリを自動判定し、回答期限を設定することで、質問対応の漏れを防ぐ。

---

## インプット

以下のいずれか、または組み合わせ:

1. **議事録** (会議メモ、文字起こし、メール)
   - 会議の内容
   - 参加者の発言
   - 決定事項と未決事項

2. **直接入力された質問内容**
   - 質問者からの問い合わせ
   - チャットでのやり取り
   - メールの内容

3. **既存の質問ID** (更新の場合)
   - 回答内容
   - ステータス変更

---

## 出力指示

### モード1: 新規質問登録

Notion質問管理DBに新規エントリを作成する。

#### 必須項目の自動生成

1. **質問ID**: `Q-{連番3桁}` (例: Q-001, Q-002)
   - 既存の最大番号+1で自動採番

2. **起票日**: 実行日 (YYYY/MM/DD)

3. **質問者**: 以下のルールで判定
   - 議事録から抽出した場合 → 発言者名
   - ユーザーが直接入力した場合 → 入力者
   - 不明な場合 → "開発チーム"

4. **カテゴリ**: 質問内容から以下のいずれかに分類
   - **要件**: 業務要件、機能要件に関する質問
     - キーワード例: 「〜すべきか」「仕様は」「どういう業務で」「目的は」
   - **仕様**: 画面、帳票、データ等の詳細仕様
     - キーワード例: 「項目は」「桁数は」「形式は」「レイアウト」
   - **データ**: マスタデータ、サンプルデータ
     - キーワード例: 「データ提供」「サンプル」「マスタ」「初期値」
   - **技術**: 技術選定、アーキテクチャ
     - キーワード例: 「使用技術」「フレームワーク」「API」「インフラ」
   - **環境**: 開発環境、本番環境
     - キーワード例: 「環境」「アカウント」「権限」「ネットワーク」
   - **スケジュール**: 日程、マイルストーン
     - キーワード例: 「いつまで」「期限」「納期」「スケジュール」
   - **その他**: 上記以外

5. **優先度**: 以下のルールで判定
   - **高**: 作業がブロックされる、法令対応、セキュリティ、納期に直接影響
     - キーワード例: 「急ぎ」「至急」「ブロックされている」「進められない」
   - **中**: 作業に影響あり、次タスクに必要
     - キーワード例: 「次のタスクで必要」「影響がある」「早めに」
   - **低**: 作業に影響少ない、確認程度
     - キーワード例: 「確認したい」「できれば」「参考までに」

6. **回答期限**: 優先度に応じて自動設定
   - 高: 起票日 + 2営業日
   - 中: 起票日 + 5営業日 (1週間)
   - 低: 起票日 + 10営業日 (2週間)

7. **回答者**: カテゴリに応じて推奨担当者を提示
   - 要件 → 業務担当者、PO
   - 仕様 → 業務担当者
   - データ → 業務担当者
   - 技術 → IT部門、PM
   - 環境 → IT部門
   - スケジュール → PO、PM

8. **ステータス**: 新規登録時は "Open"

9. **質問内容**: インプットから抽出した質問文
   - 生活者向けの言葉で簡潔に記載
   - 「〜について教えてください」形式で整形

---

### モード2: 質問への回答登録

既存の質問に回答を追加し、ステータスを更新する。

#### 更新項目

1. **回答日**: 実行日 (YYYY/MM/DD)
2. **回答内容**: ユーザー入力または議事録から抽出
3. **ステータス**: "Closed" に変更
4. **備考**: 必要に応じて追記

---

### モード3: ステータス更新

質問の進捗状況を更新する。

#### 更新可能なステータス

- **Open** → **In Progress**: 回答者が確認中
- **In Progress** → **Pending**: 保留(条件待ち)
- **In Progress** → **Closed**: 回答完了
- **Pending** → **In Progress**: 保留解除、再開

---

## 作成ガイドライン

### 1. 議事録から質問を抽出する場合

#### Step 1: 質問の識別

議事録の中から以下のパターンを探す:

- 「〜はどうなっていますか?」
- 「〜を教えてください」
- 「〜について確認したい」
- 「〜がわからない」
- 「未決事項」「要確認」とマークされた項目
- 「後日回答します」と記載された項目

#### Step 2: 質問の整形

抽出した質問を以下の形式に整形:

```
【元の発言】
「ログイン画面でパスワードって何文字くらいにしますかね?8文字とかでいいんですかね?」

【整形後】
ログイン画面のパスワード桁数は8〜20文字で良いか?
```

#### Step 3: カテゴリと優先度の判定

```
質問内容: ログイン画面のパスワード桁数は8〜20文字で良いか?
→ カテゴリ: 仕様 (画面の詳細仕様)
→ 優先度: 高 (セキュリティに関わる、実装前に確定が必要)
→ 回答期限: {起票日 + 2営業日}
→ 回答者: 業務担当者
```

### 2. Notion MCPでの操作手順

#### 新規質問登録

```javascript
// Notion MCP の create_page ツールを使用
{
  "parent": { "database_id": "{質問管理DB ID}" },
  "properties": {
    "質問ID": { "title": [{ "text": { "content": "Q-001" } }] },
    "起票日": { "date": { "start": "2025-01-15" } },
    "質問者": { "rich_text": [{ "text": { "content": "開発チーム" } }] },
    "カテゴリ": { "select": { "name": "仕様" } },
    "質問内容": { "rich_text": [{ "text": { "content": "ログイン画面のパスワード桁数は8〜20文字で良いか?" } }] },
    "回答期限": { "date": { "start": "2025-01-17" } },
    "優先度": { "select": { "name": "高" } },
    "回答者": { "rich_text": [{ "text": { "content": "業務担当者" } }] },
    "ステータス": { "status": { "name": "Open" } },
    "プロジェクト": { "relation": [{ "id": "{プロジェクトページID}" }] }
  }
}
```

#### 回答登録 (既存質問の更新)

```javascript
// Notion MCP の update_page ツールを使用
{
  "page_id": "{質問ページID}",
  "properties": {
    "回答日": { "date": { "start": "2025-01-16" } },
    "回答内容": { "rich_text": [{ "text": { "content": "8〜20文字で問題なし。セキュリティポリシーに準拠しています。" } }] },
    "ステータス": { "status": { "name": "Closed" } }
  }
}
```

### 3. 複数質問の一括登録

議事録に複数の質問が含まれる場合:

1. 各質問を個別に抽出
2. 質問IDを連番で採番 (Q-001, Q-002, Q-003...)
3. 各質問ごとにNotion DBにエントリを作成
4. 登録完了後、サマリーを表示

```
【登録完了】
- Q-001: ログイン画面のパスワード桁数は8〜20文字で良いか? (優先度: 高)
- Q-002: データ登録時の必須項目を教えてください (優先度: 高)
- Q-003: テスト用のサンプルデータを提供してほしい (優先度: 中)

合計3件の質問を登録しました。
```

---

## チェックリスト

### 新規質問登録時

- [ ] 質問IDが一意になっているか (重複していないか)
- [ ] 質問内容が簡潔で分かりやすいか
- [ ] カテゴリが適切に分類されているか
- [ ] 優先度が妥当か (作業への影響を考慮)
- [ ] 回答期限が優先度に応じて設定されているか
- [ ] 回答者が適切に割り当てられているか
- [ ] プロジェクトとのリレーションが設定されているか

### 回答登録時

- [ ] 回答内容が質問に対して明確に答えているか
- [ ] 回答日が記録されているか
- [ ] ステータスが "Closed" に更新されているか

### 議事録からの抽出時

- [ ] すべての質問・未決事項を漏れなく抽出したか
- [ ] 質問が重複していないか
- [ ] 質問が具体的で回答可能な形になっているか

---

## 使用例

### 例1: 議事録から質問を抽出

**インプット (議事録)**

```
第3回定例会議 議事録
日時: 2025/01/15

【未決事項】
- ログイン画面のパスワード桁数について、セキュリティ要件を確認したい
- データ登録画面で必須にする項目のリストを顧客に確認
- テスト用のサンプルデータの提供時期を決める
```

**出力 (Notion登録内容)**

```
Q-005: ログイン画面のパスワード桁数は8〜20文字で良いか?
- カテゴリ: 仕様
- 優先度: 高
- 回答期限: 2025/01/17
- 回答者: 業務担当者

Q-006: データ登録時の必須項目を教えてください
- カテゴリ: 仕様
- 優先度: 高
- 回答期限: 2025/01/17
- 回答者: 業務担当者

Q-007: テスト用のサンプルデータはいつ提供可能ですか?
- カテゴリ: データ
- 優先度: 中
- 回答期限: 2025/01/22
- 回答者: 業務担当者
```

### 例2: 質問への回答を登録

**インプット**

```
質問ID: Q-005
回答内容: パスワード桁数は8〜20文字で問題ありません。当社のセキュリティポリシーに準拠しています。
```

**出力 (Notion更新内容)**

```
Q-005の更新:
- 回答日: 2025/01/16
- 回答内容: パスワード桁数は8〜20文字で問題ありません。当社のセキュリティポリシーに準拠しています。
- ステータス: Open → Closed
```

---

## サマリー表示機能

質問管理表の現状をサマリー表示する。

### 表示項目

1. **ステータス別件数**

```
【質問管理サマリー】
- Open: 5件
- In Progress: 2件
- Pending: 1件
- Closed: 12件
合計: 20件
```

2. **優先度別・未回答件数**

```
【優先度別 (未回答のみ)】
- 高: 3件 (うち期限超過: 1件)
- 中: 2件
- 低: 0件
```

3. **期限超過アラート**

```
【⚠️ 回答期限超過】
- Q-003: データ登録時の必須項目を教えてください (期限: 2025/01/10、2日超過)
```

---

## 関連ドキュメント

- [Notion DB構造設計](../Notion_DB構造設計.md)
- [質問管理表テンプレート](../質問管理表.md)
- [議事録から不明点抽出プロンプト](../../01_要求分析/プロンプト/v1/議事録から不明点抽出.md)

---

**作成日:** 2025/10/26
**最終更新日:** 2025/10/26
