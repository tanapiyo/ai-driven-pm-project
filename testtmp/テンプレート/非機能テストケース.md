# 非機能テストケース

## 1. 文書管理情報
- **作成日**: YYYY/MM/DD
- **最終更新日**: YYYY/MM/DD
- **作成者**: [作成者名]
- **バージョン**: 1.0

## 2. 概要
### 2.1 目的
非機能要件（性能、セキュリティ、ユーザビリティ等）のテストケースを定義します。

### 2.2 参照ドキュメント
- 要件定義書（非機能要件）
- テスト計画書
- テスト観点一覧

## 3. 性能テストケース

### 3.1 レスポンスタイムテスト
| TC-ID | 対象 | 測定条件 | 基準値 | 測定方法 | 実施者 | 実施日 | 結果 | 実測値 | 備考 |
|-------|------|---------|-------|---------|-------|-------|------|-------|------|
| TC-PERF-001 | GET /api/v1/users | 1000件取得 | 500ms以内 | JMeter（1ユーザー、10回実行の平均） | | | | | |
| TC-PERF-002 | GET /api/v1/users/{id} | 1件取得 | 200ms以内 | JMeter（1ユーザー、10回実行の平均） | | | | | |
| TC-PERF-003 | POST /api/v1/users | 新規登録 | 500ms以内 | JMeter（1ユーザー、10回実行の平均） | | | | | |
| TC-PERF-004 | ログイン画面 | 初回表示 | 3秒以内 | Lighthouse | | | | | |
| TC-PERF-005 | ダッシュボード | ページ遷移 | 1秒以内 | Lighthouse | | | | | |

### 3.2 負荷テスト
| TC-ID | 対象 | 同時ユーザー数 | 実行時間 | エラー率基準 | 平均レスポンス基準 | 実施者 | 実施日 | 結果 | 実測エラー率 | 実測レスポンス | 備考 |
|-------|------|--------------|---------|-------------|------------------|-------|-------|------|-------------|--------------|------|
| TC-LOAD-001 | GET /api/v1/users | 100 | 5分 | 1%以下 | 500ms以内 | | | | | | |
| TC-LOAD-002 | GET /api/v1/users | 500 | 5分 | 1%以下 | 1000ms以内 | | | | | | |
| TC-LOAD-003 | GET /api/v1/users | 1000（想定最大） | 5分 | 1%以下 | 1500ms以内 | | | | | | |
| TC-LOAD-004 | GET /api/v1/users | 1500（150%） | 5分 | 5%以下 | 2000ms以内 | | | | | | |

### 3.3 ストレステスト
| TC-ID | 対象 | 目的 | 負荷条件 | 期待結果 | 実施者 | 実施日 | 結果 | 限界値 | 備考 |
|-------|------|------|---------|---------|-------|-------|------|-------|------|
| TC-STRESS-001 | システム全体 | 限界値の特定 | ユーザー数を徐々に増加 | システムダウンする負荷を特定 | | | | | |
| TC-STRESS-002 | DB | 限界接続数 | DB接続数を徐々に増加 | 接続エラーが発生する接続数を特定 | | | | | |

## 4. セキュリティテストケース

### 4.1 認証・認可テスト
| TC-ID | 観点 | テスト内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
|-------|------|----------|---------|-------|-------|------|------|
| TC-SEC-001 | 未認証アクセス | トークンなしでGET /api/v1/usersにアクセス | 401 Unauthorized | | | | |
| TC-SEC-002 | 不正トークン | 不正なトークンでGET /api/v1/usersにアクセス | 401 Unauthorized | | | | |
| TC-SEC-003 | 期限切れトークン | 期限切れトークンでGET /api/v1/usersにアクセス | 401 Unauthorized | | | | |
| TC-SEC-004 | 権限不足 | user権限でadmin専用APIにアクセス | 403 Forbidden | | | | |
| TC-SEC-005 | パスワード強度 | 弱いパスワード（abc123）で登録 | バリデーションエラー | | | | |

### 4.2 脆弱性テスト
| TC-ID | 観点 | テスト内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
|-------|------|----------|---------|-------|-------|------|------|
| TC-SEC-101 | SQLインジェクション | メールアドレス欄に `' OR '1'='1` を入力 | エスケープされ攻撃が防がれる | | | | |
| TC-SEC-102 | XSS | 名前欄に `<script>alert('XSS')</script>` を入力 | エスケープされスクリプトが実行されない | | | | |
| TC-SEC-103 | CSRF | CSRFトークンなしでPOSTリクエスト | 403 Forbidden | | | | |
| TC-SEC-104 | ディレクトリトラバーサル | `../../../etc/passwd` でアクセス | 403 Forbidden | | | | |
| TC-SEC-105 | 機密情報漏洩 | エラーメッセージに機密情報が含まれないか | 機密情報が含まれない | | | | |
| TC-SEC-106 | パスワード保存 | DBのパスワード列を確認 | ハッシュ化されている | | | | |

### 4.3 脆弱性スキャン
| TC-ID | ツール | 対象 | 期待結果 | 実施者 | 実施日 | 結果 | 検出された脆弱性数 | 備考 |
|-------|-------|------|---------|-------|-------|------|------------------|------|
| TC-SEC-201 | OWASP ZAP | 全エンドポイント | 重大脆弱性0件 | | | | | |
| TC-SEC-202 | npm audit | 依存パッケージ | 重大脆弱性0件 | | | | | |

## 5. ユーザビリティテストケース
| TC-ID | 観点 | タスク | 評価基準 | 被験者数 | 実施者 | 実施日 | 結果 | 実測値 | 備考 |
|-------|------|-------|---------|---------|-------|-------|------|-------|------|
| TC-UX-001 | 操作性 | ユーザー登録 | 平均3分以内に完了 | 5名 | | | | | |
| TC-UX-002 | 直感性 | 説明なしで商品購入 | 80%以上が完了 | 5名 | | | | | |
| TC-UX-003 | エラーメッセージ | エラーメッセージの理解度 | 90%以上が理解 | 5名 | | | | | |
| TC-UX-004 | レスポンシブ | スマートフォンでの操作性 | PC同等の操作性 | 5名 | | | | | |

## 6. 互換性テストケース

### 6.1 ブラウザ互換性
| TC-ID | ブラウザ | バージョン | 対象画面 | 確認内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
|-------|---------|----------|---------|---------|---------|-------|-------|------|------|
| TC-COMP-001 | Chrome | 最新 | 全画面 | レイアウト、機能 | 正常動作 | | | | |
| TC-COMP-002 | Firefox | 最新 | 全画面 | レイアウト、機能 | 正常動作 | | | | |
| TC-COMP-003 | Safari | 最新 | 全画面 | レイアウト、機能 | 正常動作 | | | | |
| TC-COMP-004 | Edge | 最新 | 全画面 | レイアウト、機能 | 正常動作 | | | | |

### 6.2 デバイス互換性
| TC-ID | デバイス | 画面サイズ | 対象画面 | 確認内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
|-------|---------|----------|---------|---------|---------|-------|-------|------|------|
| TC-COMP-101 | PC | 1920x1080 | 全画面 | レイアウト | 崩れなし | | | | |
| TC-COMP-102 | タブレット | 768x1024 | 全画面 | レスポンシブ | 適切なレイアウト | | | | |
| TC-COMP-103 | スマートフォン | 375x667 | 全画面 | レスポンシブ | 適切なレイアウト | | | | |

## 7. アクセシビリティテストケース
| TC-ID | 観点 | テスト内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
|-------|------|----------|---------|-------|-------|------|------|
| TC-ACC-001 | キーボード操作 | Tabキーでフォーカス移動 | 全要素にフォーカス可能 | | | | |
| TC-ACC-002 | スクリーンリーダー | NVDA/JAWSで読み上げ | 適切に読み上げられる | | | | |
| TC-ACC-003 | カラーコントラスト | Lighthouse Accessibility | WCAG AA基準合格 | | | | |
| TC-ACC-004 | 代替テキスト | 全画像にalt属性 | 全画像にalt属性がある | | | | |

## 8. 可用性テストケース
| TC-ID | 観点 | テスト内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
|-------|------|----------|---------|-------|-------|------|------|
| TC-AVAIL-001 | フェイルオーバー | Webサーバー1台停止 | サービス継続 | | | | |
| TC-AVAIL-002 | 自動復旧 | 異常終了後の自動再起動 | 5分以内に復旧 | | | | |
| TC-AVAIL-003 | データバックアップ | バックアップからのリストア | データ完全復元 | | | | |

## 9. テスト実施サマリー
| カテゴリ | 全体 | 合格 | 不合格 | 未実施 | 合格率 |
|---------|------|------|-------|-------|-------|
| 性能テスト | 0 | 0 | 0 | 0 | 0% |
| セキュリティテスト | 0 | 0 | 0 | 0 | 0% |
| ユーザビリティテスト | 0 | 0 | 0 | 0 | 0% |
| 互換性テスト | 0 | 0 | 0 | 0 | 0% |
| アクセシビリティテスト | 0 | 0 | 0 | 0 | 0% |
| 可用性テスト | 0 | 0 | 0 | 0 | 0% |
| **合計** | **0** | **0** | **0** | **0** | **0%** |

## 10. 変更履歴
| 版数 | 変更日 | 変更者 | 変更内容 |
|------|-------|--------|---------|
| 1.0 | YYYY/MM/DD | [氏名] | 初版作成 |
