# 業務フロー作成テンプレート使用方法

## 概要
このフォルダには、業務フロー作成用テンプレートが含まれています。業務記述書から業務フロー図を作成する際に使用します。

## 含まれるテンプレート

### 1. template/01_業務記述書_テンプレート.md
- **用途**: プロセスの詳細を記述するためのテンプレート
- **内容**: プロセス概要、プロセス詳細、ファイル・データ一覧、システム連携

### 2. template/02_業務フロー図_テンプレート.drawio
- **用途**: プロセスの流れを図で表現するためのテンプレート
- **内容**: スイムレーン、プロセス記号、システム処理、ファイル・データ付箋、凡例

### 3. template/03_チェックリスト_テンプレート.md
- **用途**: プロセス作成時の品質チェック用
- **内容**: 基本情報、詳細、ファイル・データ管理、整合性、品質チェック項目

## Cursorを活用した作成方法

### Step 1: 情報収集と分析
1. **議事録の整理**
   - 関連する議事録を収集
   - プロセスに関する情報を抽出
   - 担当者、部門、システム情報を整理

2. **現状業務の把握**
   - 実際の業務フローを確認
   - 使用しているシステムを特定
   - 関連部門との連携を整理
   - 使用・作成されるファイル・データを特定

3. **プロセス分析**
   - 対象プロセスを特定
   - 開始点と終了点を明確化
   - 主要なステップを整理
   - ファイル・データの流れを整理
   - **時系列順序の整理**

### Step 2: Cursorでの業務記述書作成
1. **テンプレートの準備**
   ```bash
   # 参照したファイルの親ディレクトリに業務フローフォルダを作成し、その中に保存
   # 重要：$(date +%Y%m%d)は必ずそのまま使用し、手動で作成日を入力しないでください
   
   # 参照ファイルの親ディレクトリを取得して業務フローフォルダを作成
   REF_PARENT_DIR=$(dirname "$(dirname "参照したファイルのパス")")
   mkdir -p "$REF_PARENT_DIR/業務フロー"
   
   # テンプレートをコピー
   cp template/01_業務記述書_テンプレート.md "$REF_PARENT_DIR/業務フロー/[プロセス名]_業務記述書_v1.0_$(date +%Y%m%d).md"
   
   # 具体例（営業管理業務の場合、参照ファイルが01_現状分析 (As-Is)/03_分析結果/にある場合）
   cp template/01_業務記述書_テンプレート.md "01_現状分析 (As-Is)/業務フロー/営業管理業務_業務記述書_v1.0_$(date +%Y%m%d).md"
   ```

2. **Cursorでの編集**
   - Cursorでファイルを開く
   - 議事録の情報を参考に記入
   - AIアシスタントを活用して文章作成
   - プロセス番号を自動採番
   - ファイル・データ番号を自動採番

3. **記入内容**
   - プロセス概要（名称、目的、範囲、関連部門）
   - プロセス詳細（時系列順にプロセス番号採番）
   - ファイル・データ一覧（ファイル・データ番号採番）
   - システム連携（連携番号採番）

### Step 3: Cursorでの業務フロー図作成
1. **テンプレートの準備（必須）**
   ```bash
   # 参照したファイルの親ディレクトリの業務フローフォルダに保存
   # 重要：$(date +%Y%m%d)は必ずそのまま使用し、手動で作成日を入力しないでください
   
   # 参照ファイルの親ディレクトリを取得して業務フローフォルダを作成
   REF_PARENT_DIR=$(dirname "$(dirname "参照したファイルのパス")")
   mkdir -p "$REF_PARENT_DIR/業務フロー"
   
   # テンプレートをコピー
   cp template/02_業務フロー図_テンプレート.drawio "$REF_PARENT_DIR/業務フロー/[プロセス名]_業務フロー図_v1.0_$(date +%Y%m%d).drawio"
   
   # 具体例（営業管理業務の場合、参照ファイルが01_現状分析 (As-Is)/03_分析結果/にある場合）
   cp template/02_業務フロー図_テンプレート.drawio "01_現状分析 (As-Is)/業務フロー/営業管理業務_業務フロー図_v1.0_$(date +%Y%m%d).drawio"
   ```
   **重要：必ずテンプレートファイルを使用してください。新規作成は禁止です。**

2. **Draw.ioでの編集**
   - Draw.ioでファイルを開く
   - 業務記述書を参考に編集
   - **既存スイムレーンの名前変更のみ実施**
   - プロセス配置と接続
   - ファイル・データ付箋の配置

3. **編集内容**
   - タイトルをプロセス名に変更
   - **既存スイムレーンの部門名を実際の部門に変更（新規スイムレーン作成禁止）**
   - **不要なスイムレーンは削除せず、名前を「未使用」等に変更**
   - サンプル要素を削除し、実際のプロセスを配置
   - プロセス番号（P-XXX）を業務記述書と一致させる
   - ファイル・データ番号（F-XXX）を業務記述書と一致させる
   - システム連携番号（S-XXX）を業務記述書と一致させる
   - フロー線で接続（システム連携は破線）
   - ファイル・データ付箋を適切な位置に配置
   - **時系列順に配置することを意識する**

### Step 4: Cursorでの品質チェック
1. **チェックリストの準備**
   ```bash
   # 参照したファイルの親ディレクトリの業務フローフォルダに保存
   # 重要：$(date +%Y%m%d)は必ずそのまま使用し、手動で作成日を入力しないでください
   
   # 参照ファイルの親ディレクトリを取得して業務フローフォルダを作成
   REF_PARENT_DIR=$(dirname "$(dirname "参照したファイルのパス")")
   mkdir -p "$REF_PARENT_DIR/業務フロー"
   
   # テンプレートをコピー
   cp template/03_チェックリスト_テンプレート.md "$REF_PARENT_DIR/業務フロー/[プロセス名]_チェックリスト_v1.0_$(date +%Y%m%d).md"
   
   # 具体例（営業管理業務の場合、参照ファイルが01_現状分析 (As-Is)/03_分析結果/にある場合）
   cp template/03_チェックリスト_テンプレート.md "01_現状分析 (As-Is)/業務フロー/営業管理業務_チェックリスト_v1.0_$(date +%Y%m%d).md"
   ```

2. **Cursorでのチェック**
   - Cursorでチェックリストを開く
   - 各項目を確認し、チェックを入れる
   - AIアシスタントを活用して品質確認
   - 未完了項目があれば修正

## 手動作成方法（従来）

## 採番ルール

### プロセス番号（P-XXX）
- 時系列順に採番：P-001、P-002、P-003...
- 業務記述書と業務フロー図で一致させる

### ファイル・データ番号（F-XXX）
- プロセス内での使用順序に応じて採番：F-001、F-002、F-003...
- 業務記述書と業務フロー図で一致させる
- 同一ファイル・データが複数プロセスで使用される場合は、最初に使用される番号を採用

### システム連携番号（S-XXX）
- 連携順序に応じて採番：S-001、S-002、S-003...
- 業務記述書と業務フロー図で一致させる

## 時系列を意識した配置のポイント

### 業務フロー図での時系列配置
1. **上から下への流れ（必須）**
   - 開始点は上端に配置
   - 終了点は下端に配置
   - プロセスは時系列順に上から下へ配置
   - **この流れは必須であり、例外は認めない**

2. **左から右への配置（補助的）**
   - 同一時系列内では左から右へ配置
   - ファイル・データ付箋は関連プロセスの右側に配置

3. **スイムレーンの活用**
   - 担当部門別にスイムレーンを設定
   - 時系列順にプロセスを配置
   - 部門間の移行を明確に表現

### 時系列チェックポイント
- [ ] **開始点から終了点まで上から下への一貫した流れになっているか（必須）**
- [ ] プロセス番号が時系列順に採番されているか
- [ ] ファイル・データ番号が使用順序に合っているか
- [ ] システム連携が適切なタイミングで行われているか
- [ ] 却下・分岐フローが適切に表現されているか
- [ ] **上から下への流れに反する配置がないか（必須チェック）**

## ファイル命名規則

### 業務記述書
```
[参照ファイルの親ディレクトリ]/業務フロー/[プロセス名]_業務記述書_v[版数]_[作成日].md
例：01_現状分析 (As-Is)/業務フロー/売上計上_業務記述書_v1.0_$(date +%Y%m%d).md
例（プロジェクト固有フォルダ）：プロジェクトA/01_現状分析 (As-Is)/業務フロー/売上計上_業務記述書_v1.0_$(date +%Y%m%d).md
```

### 業務フロー図
```
[参照ファイルの親ディレクトリ]/業務フロー/[プロセス名]_業務フロー図_v[版数]_[作成日].drawio
例：01_現状分析 (As-Is)/業務フロー/売上計上_業務フロー図_v1.0_$(date +%Y%m%d).drawio
例（プロジェクト固有フォルダ）：プロジェクトA/01_現状分析 (As-Is)/業務フロー/売上計上_業務フロー図_v1.0_$(date +%Y%m%d).drawio
```

### チェックリスト
```
[参照ファイルの親ディレクトリ]/業務フロー/[プロセス名]_チェックリスト_v[版数]_[作成日].md
例：01_現状分析 (As-Is)/業務フロー/売上計上_チェックリスト_v1.0_$(date +%Y%m%d).md
例（プロジェクト固有フォルダ）：プロジェクトA/01_現状分析 (As-Is)/業務フロー/売上計上_チェックリスト_v1.0_$(date +%Y%m%d).md
```

## 注意事項

### ファイル名の作成日について（重要）
- **必ず`$(date +%Y%m%d)`を使用してください**
- 手動で作成日を入力（例：20250108）しないでください
- コマンド実行時に自動的に今日の作成日が設定されます
- 古い作成日のファイルが作成された場合は、以下のコマンドでリネームしてください：
  ```bash
  # 例：古い作成日のファイルを今日の作成日にリネーム
  mv "営業管理業務_業務記述書_v1.0_20250108.md" "営業管理業務_業務記述書_v1.0_$(date +%Y%m%d).md"
  ```

### ファイル保存場所について
- **参照したファイルの親ディレクトリに「業務フロー」フォルダを作成し、その中に保存します**
- 参照ファイルが`01_現状分析 (As-Is)/03_分析結果/`にある場合、`01_現状分析 (As-Is)/業務フロー/`に保存
- 参照ファイルが`プロジェクトA/01_現状分析 (As-Is)/03_分析結果/`にある場合、`プロジェクトA/01_現状分析 (As-Is)/業務フロー/`に保存
- 業務フローフォルダは自動的に作成されます

### 業務記述書作成時
- **必ずテンプレートファイルを使用する（新規作成禁止）**
- プロセスの目的を明確に記載する
- 活動内容は具体的に記載する
- 証憑名は正式名称を使用する
- ファイル・データの詳細情報を記載する
- システム連携は実態に合わせて記載する
- **時系列順序を意識して記述する**

### 業務フロー図作成時
- **必ずテンプレートファイルを使用する（新規作成禁止）**
- **既存スイムレーンの名前を実際の部門に変更する（新規スイムレーン作成禁止）**
- **不要なスイムレーンは削除せず、名前を「未使用」等に変更**
- プロセス記号は適切な形状を使用する
- ファイル・データ付箋は適切な位置に配置する
- フロー線は論理的な順序で接続する
- 凡例を必ず記載する
- **上から下への流れを必須とする（例外は認めない）**
- **時系列順に配置することを意識する**

### 品質チェック時
- **テンプレートファイルが正しく使用されているか確認する**
- **新規スイムレーンが作成されていないか確認する**
- **既存スイムレーンの名前変更が適切に行われているか確認する**
- 全ての項目を漏れなくチェックする
- ファイル・データ番号の整合性を確認する
- 関係者によるレビューを必ず実施する
- 修正後は再チェックを実施する
- **上から下への流れが正しく実現されているか確認する（必須）**
- **時系列の流れが正しいか確認する**

## テンプレートの特徴

### シンプル性
- 必要最小限の情報のみ記載
- 理解しやすい構成
- 作成が容易

### 実用性
- 実際の業務に即した構成
- ファイル・データ管理を含む
- 改訂履歴で変更管理が可能
- 品質チェック機能付き

### 拡張性
- 必要に応じて追加情報を記載可能
- 組織の成長に合わせて拡張可能

## Cursor活用のコツ

### AIアシスタントの活用
1. **文章作成のサポート**
   - 議事録の内容を要約してプロセス概要を作成
   - 専門用語の説明を追加
   - 文章の表現を改善

2. **プロセス分析のサポート**
   - 議事録からプロセスステップを抽出
   - 担当者と部門の関係を整理
   - ファイル・データの流れを整理
   - システム連携の整理
   - **時系列順序の整理**

3. **品質チェックのサポート**
   - 記述内容の整合性確認
   - 漏れている情報の指摘
   - 改善提案の提示
   - **時系列の妥当性確認**

### 具体的なプロンプト例

#### プロセス概要作成
```
以下の議事録の内容を参考に、プロセス概要を作成してください：

[議事録の内容を貼り付け]

テンプレートに従って以下の項目を記入してください：
- プロセス名称
- プロセスの目的
- プロセスの範囲（開始点・終了点）
- 関連部門
```

#### プロセス詳細作成
```
以下の議事録から、プロセス詳細の表を作成してください：

[議事録の内容を貼り付け]

以下の形式で記入してください：
- プロセス番号（P-001、P-002...）
- プロセス名
- 実施者（部門名・役職）
- 活動内容
- 使用証憑（インプット）
- 作成証憑（アウトプット）
- ファイル・データ番号（F-001、F-002...）
- システム連携
- 備考

**時系列順に整理してください。**
```

#### ファイル・データ一覧作成
```
以下のプロセス詳細から、ファイル・データ一覧を作成してください：

[プロセス詳細の内容を貼り付け]

以下の形式で記入してください：
- ファイル・データ番号（F-001、F-002...）
- ファイル・データ名
- 種類（帳票/データ/証憑）
- 形式（Excel/PDF/CSV/DB等）
- 保管場所
- 保持期間
- 備考

**使用順序に従って番号を採番してください。**
```

#### 時系列チェック
```
作成した業務フローの時系列をチェックしてください：

[業務フロー図の内容を貼り付け]

以下の観点でチェックしてください：
- **開始点から終了点まで上から下への一貫した流れになっているか（必須）**
- プロセス番号が時系列順に採番されているか
- ファイル・データ番号が使用順序に合っているか
- システム連携が適切なタイミングで行われているか
- 却下・分岐フローが適切に表現されているか
- **上から下への流れに反する配置がないか（必須チェック）**
```

#### 品質チェック
```
作成した業務記述書の品質をチェックしてください：

[業務記述書の内容を貼り付け]

以下の観点でチェックしてください：
- プロセス番号が時系列順に採番されているか
- ファイル・データ番号が適切に採番されているか
- 活動内容が具体的に記載されているか
- 証憑名が正式名称で記載されているか
- ファイル・データの詳細情報が記載されているか
- システム連携が実態に合っているか
- **上から下への流れが正しく実現されているか（必須）**
- 時系列の流れが正しいか
```

### 効率的な作成手順
1. **議事録の事前整理**
   - 関連する議事録をフォルダに整理
   - 重要な情報にマークを付ける
   - 担当者名と部門名を統一
   - ファイル・データ名を統一
   - **時系列順序を整理**

2. **段階的な作成**
   - まず業務記述書の概要部分を作成
   - 次にプロセス詳細を記述
   - ファイル・データ一覧を作成
   - 最後にシステム連携を整理
   - **時系列順序を確認**

3. **継続的な改善**
   - 作成したプロセスを実際の業務と照合
   - 関係者からのフィードバックを反映
   - 定期的に見直しと更新
   - **上から下への流れの妥当性を継続的に確認（必須）**
   - **時系列の妥当性を継続的に確認**

## サポート

テンプレートの使用方法について不明な点がある場合は、以下の点を確認してください：

1. **必ずテンプレートファイルを使用する（新規作成禁止）**
2. **既存スイムレーンの名前変更のみ実施（新規スイムレーン作成禁止）**
3. **必ず`$(date +%Y%m%d)`を使用して今日の作成日を自動設定する**
4. 既存のプロセス例を参考にする
5. プロセスチェックリストを活用する
6. 関係者と相談して進める
7. 必要に応じてテンプレートをカスタマイズする
8. CursorのAIアシスタントを活用する
9. **上から下への流れを必須として作成する**
10. **時系列の流れを意識して作成する**

## よくある問題と解決方法

### 問題1: ファイル名に古い作成日が設定される
**原因**: 手動で作成日を入力した、またはコマンドの`$(date +%Y%m%d)`を変更した
**解決方法**: 
```bash
# 古い作成日のファイルを今日の作成日にリネーム
mv "営業管理業務_業務記述書_v1.0_20250108.md" "営業管理業務_業務記述書_v1.0_$(date +%Y%m%d).md"
```

### 問題2: コマンドが実行されない
**原因**: パスにスペースが含まれている、または権限の問題
**解決方法**: パスをダブルクォートで囲む
```bash
# 参照ファイルの親ディレクトリを取得して業務フローフォルダを作成
REF_PARENT_DIR=$(dirname "$(dirname "参照したファイルのパス")")
mkdir -p "$REF_PARENT_DIR/業務フロー"
cp template/01_業務記述書_テンプレート.md "$REF_PARENT_DIR/業務フロー/営業管理業務_業務記述書_v1.0_$(date +%Y%m%d).md"
```

### 問題3: 業務フローフォルダが作成されない
**原因**: mkdirコマンドが実行されていない、または権限の問題
**解決方法**: 手動でフォルダを作成する
```bash
# 参照ファイルの親ディレクトリに業務フローフォルダを手動作成
mkdir -p "参照ファイルの親ディレクトリ/業務フロー"
```
