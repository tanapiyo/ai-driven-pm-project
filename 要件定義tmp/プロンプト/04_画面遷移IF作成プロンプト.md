# 画面遷移・IF作成プロンプト

## プロンプト使用方法

このプロンプトを使用して、機能一覧とユースケース定義書から画面遷移図・IF定義書を作成します。

### インプットファイル

- 機能一覧
- ユースケース定義書
- To-Be業務フロー図

### アウトプット

- 画面遷移図・IF定義書（`04_画面遷移テンプレート.md` に基づく）

---

## プロンプト

```
以下のインプット情報を元に、画面遷移図・IF定義書を作成してください。

# インプット情報

## 1. 機能一覧
{機能一覧の内容を貼り付け}

## 2. ユースケース定義書
{ユースケース定義書の内容を貼り付け}

## 3. To-Be業務フロー図
{To-Be業務フロー図の業務記述書を貼り付け}

---

# 作成指示

「04_画面遷移テンプレート.md」のテンプレートに従って、以下の内容を含む画面遷移図・IF定義書を作成してください。

## 1. 画面遷移図（セクション1）

### 全体画面遷移図の作成
ユースケースの基本フローから画面遷移を抽出：
1. ログイン画面（SC-000）
2. ホーム画面（SC-001）
3. 業務メニューごとの画面グループ
4. 設定・管理画面

遷移の流れを矢印で表現：
```
SC-000 (ログイン)
    ↓
SC-001 (ホーム)
    ├→ SC-010 (業務1一覧)
    │   ├→ SC-011 (業務1詳細)
    │   └→ SC-012 (業務1登録)
    └→ SC-020 (業務2一覧)
```

### 画面分類とサマリー
機能一覧の画面一覧から画面を分類：
- 認証・ログイン
- ホーム・ダッシュボード
- 業務機能別
- マスタ管理
- システム設定

## 2. 画面一覧（セクション2）
機能一覧の画面一覧から以下を抽出：
- 画面ID（SC-XXX）
- 画面名
- 画面種別（一覧/詳細/入力/検索/ダッシュボード）
- 関連機能ID（F-XXX）
- 関連ユースケースID（UC-XXX）
- アクセス権限
- 優先度

## 3. 画面詳細定義（セクション3）

各画面について以下を定義：

### 基本情報
- 画面ID、画面名、画面種別
- URL/パス
- 関連機能、関連ユースケース
- アクセス権限（アクター別）

### 画面概要
画面の目的と役割を記載

### 画面レイアウト
ASCII アートまたは説明文で画面レイアウトを表現：
```
+----------------------------------+
| ヘッダー                          |
+----------------------------------+
| 検索条件                          |
| [検索]                           |
+----------------------------------+
| 検索結果一覧                      |
+----------------------------------+
| [登録] [キャンセル]               |
+----------------------------------+
```

### 画面項目定義
機能一覧の画面項目から以下を抽出：
- 項目ID、項目名
- 種別（テキスト/数値/日付/選択/チェック/ファイル）
- 必須/任意
- 桁数、形式、初期値
- バリデーション

### 操作・ボタン定義
ユースケースの基本フローから操作を抽出：
- ボタンID、ボタン名
- 関連機能ID
- 処理内容
- 遷移先画面
- 備考

### 画面遷移
ユースケースのフローから遷移パターンを抽出：
- 遷移元画面
- 遷移先画面
- 遷移条件

遷移図を作成：
```
   ┌──────────┐
   │ SC-010   │
   │ 一覧     │
   └──────────┘
        │
  ┌─────┴─────┐
  │           │
[詳細]      [登録]
  │           │
  ↓           ↓
SC-011     SC-012
```

### バリデーション
機能一覧のバリデーションから以下を抽出：
- チェック項目
- チェック内容
- エラーメッセージ
- チェックタイミング（入力時/ボタン押下時）

### イベント・処理
ユースケースの基本フローから以下を抽出：
- 画面表示時の処理
- ボタン押下時の処理
- 各種イベント処理

### セキュリティ要件
機能一覧のセキュリティ要件から抽出：
- データ暗号化
- 通信の暗号化（HTTPS）
- セッション管理

### 非機能要件
機能一覧の非機能要件から抽出：
- レスポンスタイム
- 可用性
- セキュリティ
- ブラウザ対応

## 4. 画面遷移パターン（セクション4）
典型的な画面遷移パターンを整理：
- パターン1: 一覧→詳細→編集
- パターン2: 検索→一覧→詳細
- パターン3: モーダルダイアログ

## 5. 外部インターフェース（IF）定義（セクション5）

### IF一覧
To-Be業務フロー図のシステム連携（S-XXX）と機能一覧の外部連携から抽出：
- IF-ID
- IF名
- IF種別（送信/受信/双方向）
- 連携先システム
- 連携方式（API/ファイル/DB）
- プロトコル
- 連携タイミング

### IF詳細

#### API連携の場合
機能一覧のAPI定義から以下を抽出：
- エンドポイント、HTTPメソッド
- 認証方式
- リクエストヘッダー、パラメータ、ボディ
- レスポンス（成功時/エラー時）
- エラー処理
- 性能要件

#### ファイル連携の場合
To-Be業務フロー図のファイル・データ（F-XXX）から以下を抽出：
- ファイル形式（CSV/XML/JSON/Excel）
- ファイル名規則
- ファイル配置場所
- ファイルフォーマット（項目定義）
- バリデーション
- 処理フロー
- エラー処理

#### DB連携の場合
機能一覧のDB連携から以下を抽出：
- 接続情報
- 連携方式（SELECT/INSERT/ストアドプロシージャ）
- 連携テーブル
- SQL例
- トランザクション制御

## 6. モーダル・ダイアログ定義（セクション6）
ユースケースの例外フローから以下を抽出：
- 確認ダイアログ
- エラー表示ダイアログ
- 詳細ポップアップ

## 7. 共通UI要素（セクション7）
すべての画面で共通する要素を定義：
- ヘッダー
- サイドメニュー
- フッター
- ページネーション

## 8. レスポンシブデザイン（セクション8）
対応デバイスと画面幅を定義：
- PC、タブレット、スマートフォン

## 9. アクセシビリティ（セクション9）
アクセシビリティ要件を定義：
- WCAG準拠レベル
- キーボード操作対応
- スクリーンリーダー対応

---

# 作成時の注意事項

1. **ユースケースとの対応**
   - 画面遷移がユースケースの基本フローと一致していること
   - すべてのユースケースが画面遷移図に反映されていること

2. **画面IDの一貫性**
   - 画面ID（SC-XXX）を機能グループごとに採番
   - 例: SC-000～009: 認証、SC-010～019: 業務1

3. **バリデーションの網羅性**
   - 機能一覧のエラー処理をすべてバリデーションとして定義

4. **外部IFのトレーサビリティ**
   - To-Be業務フロー図のシステム連携番号（S-XXX）との対応を明記

5. **画面項目の詳細化**
   - 機能一覧の画面項目をさらに詳細化
   - バリデーションルールを具体的に記載

---

# 作成後のチェックリスト

□ すべての機能に対応する画面が定義されている
□ 画面遷移がユースケースのフローと整合している
□ 画面IDが一貫して採番されている（SC-001, SC-002, ...）
□ すべての画面項目にバリデーションが定義されている
□ 外部IFがTo-Be業務フロー図のシステム連携と対応している
□ IF-IDが一貫して採番されている（IF-001, IF-002, ...）
□ API/ファイル/DB連携の仕様が詳細に定義されている
□ エラー処理が網羅されている
□ 共通UI要素が定義されている
□ アクセシビリティ要件が定義されている

---

# 出力形式

「04_画面遷移テンプレート.md」の構成に従い、Markdown形式で出力してください。
```

## 使用例

```
# インプット情報

## 1. 機能一覧
[機能一覧の内容]

## 2. ユースケース定義書
[ユースケース定義書の内容]

## 3. To-Be業務フロー図
[To-Be業務記述書の内容]

---

[上記プロンプトを適用]
```
