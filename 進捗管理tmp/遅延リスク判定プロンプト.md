# 遅延リスク判定プロンプト

## 目的
残タスクと残期間から、プロジェクトの遅延リスクを定量的に判定し、早期警告を発する

## プロンプト

```
あなたはプロジェクト管理の専門家です。
以下の情報をもとに、プロジェクトの遅延リスクを分析し、リスクレベルと推奨アクションを提示してください。

## インプット情報

### 1. プロジェクト基本情報
- プロジェクト名: {プロジェクト名}
- 現在の日付: {YYYY/MM/DD}
- プロジェクト終了予定日: {YYYY/MM/DD}
- 残り期間: {X}営業日 / {Y}週間

### 2. タスク状況
**残タスク内訳**
- 未着手タスク: {A}件
- 進行中タスク: {B}件
- 完了タスク: {C}件
- 合計タスク: {A+B+C}件

**工数見積もり**
- 残タスクの合計見積工数: {D}人日
- 利用可能リソース: {E}人
- 1日あたりの作業可能時間: {F}時間

### 3. 進捗トレンド
- 過去4週間の週次タスク消化数:
  - 4週前: {G1}件
  - 3週前: {G2}件
  - 2週前: {G3}件
  - 先週: {G4}件
- 平均タスク消化速度: {(G1+G2+G3+G4)/4}件/週

### 4. マイルストーン情報
| マイルストーン | 予定日 | 残タスク数 | 遅延日数 |
|--------------|--------|-----------|---------|
| {MS1名} | {日付} | {X}件 | {Y}日 |
| {MS2名} | {日付} | {X}件 | {Y}日 |

### 5. 既知のリスク・課題
- 高優先度の課題数: {H}件
- 高リスク項目数: {I}件
- スコープ変更要求: {J}件（承認待ち含む）

## 分析観点

以下の観点で遅延リスクを分析してください：

1. **スケジュールバッファの充足度**
   - 残期間と残工数のバランスは適切か
   - 計算式: 必要工数 vs 利用可能工数

2. **タスク消化速度のトレンド**
   - 消化速度は向上しているか、低下しているか
   - このまま進むと期日に間に合うか

3. **クリティカルパス上のリスク**
   - 遅延している、または遅延しそうなマイルストーンはあるか
   - クリティカルパス上のタスクに問題はないか

4. **リソースの逼迫度**
   - 現在のリソースで残タスクをこなせるか
   - リソース不足のリスクはあるか

5. **外部要因・未確定事項**
   - 課題やリスクが顕在化する可能性
   - スコープ変更の影響

## アウトプット形式

以下の形式で分析結果を出力してください：

---

# 遅延リスク判定レポート

**判定日**: {YYYY/MM/DD}
**プロジェクト**: {プロジェクト名}

## 🚦 総合リスクレベル

**【 🔴 高リスク / 🟡 中リスク / 🟢 低リスク 】**

## 📊 定量分析

### スケジュールバッファ分析

| 項目 | 値 | 評価 |
|------|-----|------|
| 残り期間 | {X}営業日 | |
| 残工数 | {D}人日 | |
| 利用可能工数 | {計算結果}人日 | |
| バッファ率 | {(利用可能-残工数)/残工数*100}% | 🔴/🟡/🟢 |

※バッファ率の目安
- 30%以上: 🟢 余裕あり
- 10〜30%: 🟡 注意
- 10%未満: 🔴 危険

### タスク消化トレンド分析

| 指標 | 値 | 評価 |
|------|-----|------|
| 平均消化速度 | {X}件/週 | |
| 必要消化速度 | {(A+B)/Y}件/週 | |
| 達成可能性 | {評価} | 🔴/🟡/🟢 |

※達成可能性の判定
- 平均消化速度 ≧ 必要消化速度 × 1.2: 🟢 余裕あり
- 平均消化速度 ≧ 必要消化速度: 🟡 ギリギリ
- 平均消化速度 < 必要消化速度: 🔴 不足

### マイルストーン遅延状況

- 遅延中のマイルストーン: {X}個
- 遅延リスクのあるマイルストーン: {Y}個
- クリティカルパス上の遅延: {有/無}

## 🔍 リスク要因の特定

### 主要リスク要因（上位3件）

1. **{リスク要因1}**
   - 影響度: 高/中/低
   - 発生確率: 高/中/低
   - 詳細: {説明}

2. **{リスク要因2}**
   - 影響度: 高/中/低
   - 発生確率: 高/中/低
   - 詳細: {説明}

3. **{リスク要因3}**
   - 影響度: 高/中/低
   - 発生確率: 高/中/低
   - 詳細: {説明}

## 💡 推奨アクション

### 即座に実施すべきアクション（優先度：高）

1. {具体的なアクション}
   - 期待効果: {効果}
   - 実施期限: {期限}

2. {具体的なアクション}
   - 期待効果: {効果}
   - 実施期限: {期限}

### 検討すべきアクション（優先度：中）

1. {具体的なアクション}
2. {具体的なアクション}

## 📈 シミュレーション

### 現状維持シナリオ
- 完了予測日: {YYYY/MM/DD}
- 遅延見込み: {X}日

### 改善シナリオ（推奨アクション実施時）
- 完了予測日: {YYYY/MM/DD}
- 遅延見込み: {Y}日（{X-Y}日改善）

## ⚠️ エスカレーション推奨

**エスカレーションが必要**: はい / いいえ

【エスカレーションが必要な場合】
- エスカレーション先: {経営層/ステークホルダー/顧客}
- エスカレーション内容: {具体的な内容}
- エスカレーション期限: {YYYY/MM/DD}

---

## 補足説明

- この判定は現時点の情報に基づくものであり、状況変化により変動します
- 週次で再判定を実施し、トレンドを監視することを推奨します
- 高リスクと判定された場合は、直ちに対策を講じてください

```

---

## 使用方法

### 1. データ収集

**a. プロジェクト管理ツールから抽出**
- Jira, Redmine, Backlog等から、タスク一覧とステータスをエクスポート
- ガントチャートから残期間を確認

**b. WBSから手動集計**
```bash
# タスク数の集計例
未着手: grep "未着手" wbs.csv | wc -l
進行中: grep "進行中" wbs.csv | wc -l
完了: grep "完了" wbs.csv | wc -l
```

**c. Git活動から補完**
```bash
# 週次のコミット数（活動量の指標）
git log --since="4 weeks ago" --pretty=format:"%cd" --date=format:"%Y-%W" | sort | uniq -c
```

### 2. プロンプトへの入力
- 収集したデータを`{}`内に入力
- ChatGPT/Claude等のAIに入力

### 3. 結果の活用
- 生成されたレポートを確認
- リスクレベルが高い場合は、推奨アクションを実施
- ステークホルダーへの報告資料として活用

---

## サンプル出力

# 遅延リスク判定レポート

**判定日**: 2025/10/20
**プロジェクト**: BPR業務改善プロジェクト

## 🚦 総合リスクレベル

**【 🟡 中リスク 】**

現在の進捗ペースでは、期日までに完了できる可能性は70%程度です。
一部のタスクで遅延が見られるため、早めの対策が必要です。

## 📊 定量分析

### スケジュールバッファ分析

| 項目 | 値 | 評価 |
|------|-----|------|
| 残り期間 | 45営業日 | |
| 残工数 | 80人日 | |
| 利用可能工数 | 90人日（3人×6h×15日） | |
| バッファ率 | 12.5% | 🟡 注意 |

### タスク消化トレンド分析

| 指標 | 値 | 評価 |
|------|-----|------|
| 平均消化速度 | 8件/週 | |
| 必要消化速度 | 7.5件/週 | |
| 達成可能性 | ギリギリ | 🟡 ギリギリ |

### マイルストーン遅延状況

- 遅延中のマイルストーン: 1個（As-Is業務分析）
- 遅延リスクのあるマイルストーン: 2個（To-Be設計、要件定義）
- クリティカルパス上の遅延: 有

## 🔍 リスク要因の特定

### 主要リスク要因（上位3件）

1. **現場ヒアリング日程の調整難航**
   - 影響度: 高
   - 発生確率: 高
   - 詳細: 現場の業務繁忙期と重なり、ヒアリング日程確保が困難。As-Is分析に2日の遅延が発生中。

2. **スコープ変更要求の増加**
   - 影響度: 中
   - 発生確率: 中
   - 詳細: 現在2件のスコープ変更要求が承認待ち。承認された場合、工数が+10人日増加見込み。

3. **リソースの稼働率低下**
   - 影響度: 中
   - 発生確率: 低
   - 詳細: メンバー1名が他プロジェクトと兼務しており、想定より稼働率が低い（80%→60%）。

## 💡 推奨アクション

### 即座に実施すべきアクション（優先度：高）

1. **ヒアリング日程の前倒し調整**
   - 期待効果: As-Is分析の遅延2日を取り戻す
   - 実施期限: 今週中（10/25まで）
   - 具体策: 経営層から現場責任者へ協力依頼、または夕方・早朝の時間帯も活用

2. **スコープ変更の早期承認/却下**
   - 期待効果: 不確実性を除去し、計画を確定
   - 実施期限: 来週中（11/1まで）
   - 具体策: ステークホルダー会議を招集し、即断即決

### 検討すべきアクション（優先度：中）

1. 兼務メンバーの稼働率向上、または代替リソースの確保
2. To-Be設計の一部を外部委託して工数削減

## 📈 シミュレーション

### 現状維持シナリオ
- 完了予測日: 2025/12/18
- 遅延見込み: 3日

### 改善シナリオ（推奨アクション実施時）
- 完了予測日: 2025/12/15（期日通り）
- 遅延見込み: 0日（3日改善）

## ⚠️ エスカレーション推奨

**エスカレーションが必要**: いいえ

現時点では対策実施により期日内完了が見込めるため、エスカレーション不要。
ただし、来週の進捗状況を確認し、改善が見られない場合は経営層へエスカレーションを検討。

---

## 活用シーン

1. **週次進捗会議**
   - 毎週の定例会議で遅延リスクを可視化
   - データに基づいた意思決定

2. **月次レビュー**
   - 月次でのプロジェクト健全性チェック
   - 経営層への報告資料

3. **早期警告システム**
   - リスクレベルが「高」になった時点で自動的にアラート
   - ステークホルダーへの即座の報告

4. **リソース配分の最適化**
   - リソース不足を定量的に把握
   - 追加投入の判断材料

---

## 高度な活用: 自動化スクリプト例

### Pythonスクリプトでの自動判定（サンプル）

```python
import datetime

# データ入力
remaining_days = 45
remaining_tasks = 35
average_velocity = 8  # 件/週
available_resources = 3
hours_per_day = 6

# 計算
remaining_weeks = remaining_days / 5
required_velocity = remaining_tasks / remaining_weeks
achievement_ratio = average_velocity / required_velocity

# リスク判定
if achievement_ratio >= 1.2:
    risk_level = "🟢 低リスク"
elif achievement_ratio >= 1.0:
    risk_level = "🟡 中リスク"
else:
    risk_level = "🔴 高リスク"

print(f"リスクレベル: {risk_level}")
print(f"達成可能性: {achievement_ratio*100:.1f}%")
print(f"必要消化速度: {required_velocity:.1f}件/週")
print(f"現在の消化速度: {average_velocity}件/週")
```

---

## カスタマイズのヒント

### BPRプロジェクト特有の指標を追加

```
### 6. BPR固有の遅延リスク要因
- 業務ヒアリングの遅延: {有/無}
- ステークホルダーの合意形成難航: {有/無}
- 業務フロー設計の手戻り: {回数}
- 現場の抵抗: {有/無}
```

これらを追加することで、BPRプロジェクト特有のリスクも考慮した判定が可能になります。
